<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
      <title>mkvmerge -- Паковщик мультимедийных потоков в файл Matroska</title>
      <link rel="stylesheet" type="text/css" href="mkvtoolnix-doc.css">
   </head>
   <body>
      <div class="heading">mkvmerge -- Паковщик мультимедийных потоков в файл <span class="productname">Matroska</span><sup>(tm)</sup></div>
      <hr>
      <div id="toc" class="toc">
         <h1>Table of contents</h1>
         <ul>
            <li><a href="#mkvmerge.synopsis">1. Краткое содержание</a></li>
            <li><a href="#mkvmerge.description">2. Описание</a></li>
            <li><a href="#mkvmerge.usage">3. Использование</a></li>
            <li><a href="#mkvmerge.option_order">4. Порядок параметров</a></li>
            <li><a href="#mkvmerge.examples">5. Примеры</a></li>
            <li><a href="#mkvmerge.track_ids">6. Идентификаторы дорожек</a></li>
            <li><a href="#mkvmerge.language_handling">7. Работа с языками</a></li>
            <li><a href="#mkvmerge.text_files_and_charsets">8. Преобразование текстовых файлов и кодировок</a></li>
            <li><a href="#mkvmerge.option_files">9. Файлы параметров</a></li>
            <li><a href="#mkvmerge.file_linking">10. Связывание файла</a></li>
            <li><a href="#mkvmerge.default_values">11. Стандартные значения</a></li>
            <li><a href="#mkvmerge.attachments">12. Вложения</a></li>
            <li><a href="#mkvmerge.chapters">13. Главы</a></li>
            <li><a href="#mkvmerge.tags">14. Метки</a></li>
            <li><a href="#mkvmerge.segmentinfo">15. Информация о сегментах</a></li>
            <li><a href="#mkvmerge.file_layout">16. Компоновка файла Matroska</a></li>
            <li><a href="#mkvmerge.external_timestamp_files">17. Внешние файлы меток времени</a></li>
            <li><a href="#mkvmerge.exit_codes">18. Коды завершения</a></li>
            <li><a href="#mkvmerge.environment_variables">19. Переменные среды</a></li>
            <li><a href="#mkvmerge.seealso">20. Смотрите также</a></li>
            <li><a href="#mkvmerge.www">21. Домашняя страница</a></li>
         </ul>
      </div>
      <div class="content">
         <h1><a name="mkvmerge.synopsis">1. Краткое содержание</a></h1>
         
         
         <div class="cmdsynopsis"><span class="commandname">mkvmerge</span> глобальные параметры {-o выход} параметры1 {файл1} параметры2 {файл2} @файл-параметров.json
         </div>
         
         <h1><a name="mkvmerge.description">2. Описание</a></h1>
         
         
         <p>
            Эта программа принимает входные данные из нескольких медиафайлов и соединяет
            их потоки (все или только выбранные) в файл <span class="productname">Matroska</span><sup>(tm)</sup>; смотрите <a href="https://www.matroska.org/">сайт Matroska</a>.
            
         </p>
         
         
         <div class="important">
            <p class="important-title">Important:</p>
            
            <p>
               Порядок параметров в командной строке очень важен. Пожалуйста, прочтите
               раздел <a href="#mkvmerge.option_order">«Порядок параметров»</a>,
               если вы незнакомы с программой.
               
            </p>
            
         </div>
         
         
         <h2><a name="d4e126">2.1. Глобальные параметры</a></h2>
         
         
         
         <table class="variablelist">
            <thead>
               <tr>
                  <th>Option</th>
                  <th>Description</th>
               </tr>
            </thead>
            <tbody>
               <tr>
                  <td class="varlistoption"><a name="mkvmerge.description.verbose"><span class="option">-v</span>, <span class="option">--verbose</span></a></td>
                  <td>
                     
                     <p>Увеличить детализацию.</p>
                     
                  </td>
               </tr>
               <tr>
                  <td class="varlistoption"><a name="mkvmerge.description.quiet"><span class="option">-q</span>, <span class="option">--quiet</span></a></td>
                  <td>
                     
                     <p>Скрыть вывод состояния.</p>
                     
                  </td>
               </tr>
               <tr>
                  <td class="varlistoption"><a name="mkvmerge.description.output"><span class="option">-o</span>, <span class="option">--output</span>
                        <span class="parameter">имя-файла</span></a></td>
                  <td>
                     
                     <p>Записать в файл <span class="parameter">имя-файла</span>. Если используется
                        разбиение, то этот параметр трактуется несколько иначе. Сморите описание
                        параметра <a href="#mkvmerge.description.split">--split</a> для
                        подробностей.
                     </p>
                     
                  </td>
               </tr>
               <tr>
                  <td class="varlistoption"><a name="mkvmerge.description.webm"><span class="option">-w</span>, <span class="option">--webm</span></a></td>
                  <td>
                     
                     <p>Создайть файл, совместимый с WebM. Это также включено, если расширение имени
                        выходного файла — «webm». В этом режиме есть несколько
                        ограничений. Разрешены только кодеки VP8, видео VP9 и аудиодорожки Opus,
                        Vorbis. Элемент заголовка DocType изменён на «webm».
                        
                     </p>
                     
                     
                     <p>
                        Для глав и тэгов разрешена только подгруппа элементов. <span class="productname">mkvmerge</span>(1)
                        автоматически удалит все элементы, неразрешённые спецификацией.
                        
                     </p>
                     
                  </td>
               </tr>
               <tr>
                  <td class="varlistoption"><a name="mkvmerge.description.title"><span class="option">--title</span> <span class="parameter">заголовок</span></a></td>
                  <td>
                     
                     <p>Устанавливает основной заголовок для выходного файла, например, имя фильма.</p>
                     
                  </td>
               </tr>
               <tr>
                  <td class="varlistoption"><a name="mkvmerge.description.default_language"><span class="option">--default-language</span> <span class="parameter">код-языка</span></a></td>
                  <td>
                     
                     <p>Задаёт код языка по умолчанию, который будет использоваться для треков, у
                        которых не установлен язык с параметром <a href="#mkvmerge.description.language">--language</a> и
                        у которых исходный контейнер не предоставляет язык.
                     </p>
                     
                     
                     <p>Стандартный код для «неопределённого» языка — <span class="literal">und</span>.
                     </p>
                     
                  </td>
               </tr>
            </tbody>
         </table>
         
         
         
         <h2><a name="d4e261">2.2. Обработка информации о сегментах (глобальные параметры)</a></h2>
         
         
         
         <table class="variablelist">
            <thead>
               <tr>
                  <th>Option</th>
                  <th>Description</th>
               </tr>
            </thead>
            <tbody>
               <tr>
                  <td class="varlistoption"><a name="mkvmerge.description.segmentinfo"><span class="option">--segmentinfo</span> <span class="parameter">имя-файла.xml</span></a></td>
                  <td>
                     
                     <p>
                        Прочесть информацию о сегменте из файла <span class="abbrev">XML</span>. Этот файл
                        может содержать <span class="abbrev">UID</span> семейства сегментов,
                        <span class="abbrev">UID</span> сегмента, элементы <span class="abbrev">UID</span> предыдущего и
                        следующего сегмента. Пример файла и <span class="abbrev">DTD</span> включены в
                        дистрибутив MKVToolNix.
                        
                     </p>
                     
                     
                     <p>
                        Смотрите раздел <a href="#mkvmerge.segmentinfo">XML-файлы информации о
                           сегментах</a> ниже для подробностей.
                        
                     </p>
                     
                  </td>
               </tr>
               <tr>
                  <td class="varlistoption"><a name="mkvmerge.description.segment_uid"><span class="option">--segment-uid</span> <span class="parameter">SID1,SID2,...</span></a></td>
                  <td>
                     
                     <p>
                        Задаёт UID используемых сегментов.Это разделяемый запятыми список 128-битных
                        сегментных UIDов в обычной форме записи UID: шестнадцатеричное число с
                        префиксом "0x" или без, с пробелами или без, длиной ровно в 32 символа.
                        
                     </p>
                     
                     
                     <p>
                        Если SID начинается с =, то остальное будет распознано как имя файла
                        Matroska, чей сегмент UID считывается и используется.
                        
                     </p>
                     
                     
                     <p>
                        Каждый созданный файл содержит один сегмент, и каждый сегмент имеет один UID
                        сегмента. Если указано больше UID сегментов, чем создано сегментов, то
                        лишние UID игнорируются. Если указано меньше UID, чем создано сегментов, то
                        для них будут созданы случайные UID.
                        
                     </p>
                     
                  </td>
               </tr>
            </tbody>
         </table>
         
         
         
         <h2><a name="d4e330">2.3. Работа с главами и тегами (глобальные параметры)</a></h2>
         
         
         
         <table class="variablelist">
            <thead>
               <tr>
                  <th>Option</th>
                  <th>Description</th>
               </tr>
            </thead>
            <tbody>
               <tr>
                  <td class="varlistoption"><a name="mkvmerge.description.chapter_language"><span class="option">--chapter-language</span> <span class="parameter">код-языка</span></a></td>
                  <td>
                     
                     <p>
                        Задаёт код языка в формате ISO 639-2, который записывается для каждой записи
                        главы. По умолчанию используется '<span class="literal">eng</span>'. Подробности ниже
                        в разделе <a href="#mkvmerge.chapters">главы</a>.
                        
                     </p>
                     
                     
                     <p>
                        Этот параметр может использоваться как для простых файлов глав, так и для
                        исходных файлов, содержащих главы без информации об их языке, напр. файлы
                        MP4 и OGM.
                        
                     </p>
                     
                     
                     <p>
                        Язык, указанный в этом параметре, также используется и при генерации глав с
                        помощью <a href="#mkvmerge.description.generate_chapters">параметра
                           --generate-chapters</a>.
                        
                     </p>
                     
                  </td>
               </tr>
               <tr>
                  <td class="varlistoption"><a name="mkvmerge.description.chapter_charset"><span class="option">--chapter-charset</span> <span class="parameter">кодировка</span></a></td>
                  <td>
                     
                     <p>
                        Устанавливает набор символов, который используется для преобразования в
                        UTF-8 для простых файлов глав. Смотрите раздел о <a href="#mkvmerge.text_files_and_charsets">текстовых файлах и наборах
                           символов</a>, чтобы узнать, как <span class="productname">mkvmerge</span>(1) преобразует наборы символов.
                        
                     </p>
                     
                     
                     <p>
                        Этот переключатель также применяется к главам, скопированным из определённых
                        типов контейнеров, например файлов Ogg/OGM и MP4. Дополнительные сведения
                        смотрите ниже в разделе о главах.
                        
                     </p>
                     
                  </td>
               </tr>
               <tr>
                  <td class="varlistoption"><a name="mkvmerge.description.chapter_sync"><span class="option">--chapter-sync</span>
                        <span class="parameter">d[,o[/p]]</span></a></td>
                  <td>
                     
                     <p>
                        Отрегулировать отметки времени глав в следующем исходном файле на
                        <span class="parameter">d</span> мс. В качестве альтернативы вы можете использовать
                        параметр <span class="option">--sync</span> со специальным идентификатором дорожки
                        <span class="constant">-2</span> (сморите раздел «<a href="#mkvmerge.track_ids.special_ids">Специальные идентификаторы
                           дорожек</a>»).
                        
                     </p>
                     
                     
                     <p>
                        <span class="parameter">o</span>/<span class="parameter">p</span>: поправка временных меток
                        с помощью <span class="parameter">o</span>/<span class="parameter">p</span>, чтобы исправить
                        линейные смещения. По умолчанию в случае пропуска <span class="parameter">p</span>
                        равно 1. И <span class="parameter">o</span> и <span class="parameter">p</span> могут быть
                        числами с плавающей запятой.
                        
                     </p>
                     
                     
                     <p>
                        По умолчанию: ручная коррекция синхронизации отключена (что равноценно
                        <span class="parameter">d</span> = <span class="constant">0</span> и
                        <span class="parameter">o</span>/<span class="parameter">p</span> =
                        <span class="constant">1.0</span>).
                        
                     </p>
                     
                     
                     <p>
                        Этот параметр можно использовать несколько раз для входного файла,
                        применяемого к нескольким дорожкам, с указанием разных идентификаторов
                        дорожек.
                        
                     </p>
                     
                  </td>
               </tr>
               <tr>
                  <td class="varlistoption"><a name="mkvmerge.description.generate_chapters"><span class="option">--generate-chapters</span> <span class="parameter">режим</span></a></td>
                  <td>
                     
                     <p>
                        <span class="productname">mkvmerge</span>(1) может автоматически создавать главы. На данный момент
                        поддерживаются следующие два режима:
                        
                     </p>
                     
                     
                     <ul>
                        
                        <li>
                           
                           <p>
                              '<span class="literal">when-appending</span>' – Этот режим создаёт одну главу,
                              соответствующую началу каждого добавленного файла.
                              
                           </p>
                           
                           
                           <p>
                              Этот режим также работает с режимами разделения «<span class="literal">частей:</span>»
                              и «<span class="literal">частей-кадров:</span>». Для этих режимов создаётся одна глава
                              для каждого добавленного диапазона временных меток (тех, чьи начальные метки
                              времени имеют префикс «<span class="literal">+</span>»).
                              
                           </p>
                           
                           
                           <div class="note">
                              <p class="note-title">Note:</p>
                              
                              <p>
                                 <span class="productname">mkvmerge</span>(1) требует наличия видео или аудиодорожки, для определения того, что
                                 будет добавлен новый файл. При слиянии одной или нескольких видеодорожек
                                 используется первая. В ином случае используется первая звуковая дорожка.
                                 
                              </p>
                              
                           </div>
                           
                        </li>
                        
                        
                        <li>
                           
                           <p>
                              '<span class="literal">interval:</span><span class="parameter">time-spec</span>' — этот режим
                              создаёт одну главу с фиксированными интервалами по данным из
                              <span class="parameter">time-spec</span>. Формат в форме <span class="parameter">HH: MM:
                                 SS.nnnnnnnnn</span> или число, за которым следует одна из единиц
                              '<span class="literal">s</span>', '<span class="literal">ms</span>' или
                              '<span class="literal">us7</span>'.
                              
                           </p>
                           
                           
                           <p>
                              Пример: <span class="literal">--generate-chapters interval:45s</span>
                              
                           </p>
                           
                        </li>
                        
                     </ul>
                     
                     
                     <p>
                        Названия новых глав управляются параметром <a href="#mkvmerge.description.generate_chapters_name_template">--generate-chapters-name-template</a>.
                        Язык устанавливается с помощью <a href="#mkvmerge.description.chapter_language">--chapter-language</a>,
                        который должен быть указан перед <span class="option">--generate-chapters</span>.
                        
                     </p>
                     
                  </td>
               </tr>
               <tr>
                  <td class="varlistoption"><a name="mkvmerge.description.generate_chapters_name_template"><span class="option">--generate-chapters-name-template</span>
                        <span class="parameter">шаблон</span></a></td>
                  <td>
                     
                     <p>
                        Указывает шаблон имени для имён заголовков, создаваемых параметром <a href="#mkvmerge.description.generate_chapters">--generate-chapters</a>.
                        Если параметр не указан, то по умолчанию используется "<span class="literal">Chapter
                           &lt;NUM:2&gt;</span>".
                        
                     </p>
                     
                     
                     <p>
                        Существует несколько переменных, которые можно использовать в шаблоне, и
                        которые заменяются их фактическими значениями во время создания
                        главы. Строка «<span class="literal">&lt;NUM&gt;</span>» будет заменена номером
                        главы. Строка «<span class="literal">&lt;START&gt;</span>» будет заменена меткой
                        времени начала главы.
                        
                     </p>
                     
                     
                     <p>
                        Строки <span class="literal">«&lt;FILE_NAME&gt;»</span> и
                        <span class="literal">«&lt;FILE_NAME_WITH_EXT&gt;»</span> заполняются только при
                        создании глав для добавляемых файлов. Они будут заменены именем добавляемого
                        файла без указания соответственно его расширения. Обратите внимание, что
                        вставляются только базовое имя и расширение файла, а не его каталог или
                        компоненты диска.
                        
                     </p>
                     
                     
                     <p>
                        Вы можете указать минимальное число мест для номера главы с помощью
                        «<span class="literal">&lt;NUM:places&gt;</span>'», например,
                        «<span class="literal">&lt;NUM:3&gt;</span>». Полученное число будет дополнено
                        ведущими нулями, если число мест меньше указанного.
                        
                     </p>
                     
                     
                     <p>
                        Вы можете управлять форматом, используемым начальной меткой времени, с
                        помощью <span class="literal">&lt;START:format&gt;</span>. Когда формат не задан, то
                        умолчанию используется '<span class="literal">%H:%M:%S</span>'. Допустимыми кодами
                        формата являются:
                        
                     </p>
                     
                     
                     <ul>
                        
                        <li>
                           
                           <p><span class="literal">%h</span> – часы
                           </p>
                           
                        </li>
                        
                        <li>
                           
                           <p><span class="literal">%H</span> – часы, дополненные нулями до двух позиций
                           </p>
                           
                        </li>
                        
                        <li>
                           
                           <p><span class="literal">%m</span> – минуты
                           </p>
                           
                        </li>
                        
                        <li>
                           
                           <p><span class="literal">%M</span> – минуты, дополненные нулями до двух позиций
                           </p>
                           
                        </li>
                        
                        <li>
                           
                           <p><span class="literal">%s</span> – секунды
                           </p>
                           
                        </li>
                        
                        <li>
                           
                           <p><span class="literal">%S</span> – секунды, дополненные нулями до двух позиций
                           </p>
                           
                        </li>
                        
                        <li>
                           
                           <p><span class="literal">%n</span> – наносекунды с девятью позициями
                           </p>
                           
                        </li>
                        
                        <li>
                           
                           <p><span class="literal">%&lt;1-9&gt;n</span> – наносекунды с указанием до девяти позиций
                              (например, с тремя позициями <span class="literal">%3n</span>)
                           </p>
                           
                        </li>
                        
                     </ul>
                     
                  </td>
               </tr>
               <tr>
                  <td class="varlistoption"><a name="mkvmerge.description.cue_chapter_name_format"><span class="option">--cue-chapter-name-format</span> <span class="parameter">формат</span></a></td>
                  <td>
                     
                     <p>
                        <span class="productname">mkvmerge</span>(1) поддерживает чтение списков <span class="abbrev">CUE</span> для аудиофайлов
                        в качестве входных данных для глав. Списки <span class="abbrev">CUE</span> обычно
                        содержат записи <span class="varname">PERFORMER</span> и <span class="varname">TITLE</span> для
                        каждой записи индекса. <span class="productname">mkvmerge</span>(1) использует эти две строки для создания
                        названия главы. С помощью этого параметра можно установить формат,
                        используемый для этого имени.
                        
                     </p>
                     
                     
                     <p>
                        Если этот параметр не задан, то <span class="productname">mkvmerge</span>(1) по умолчанию использует формат
                        "<span class="code">%p - %t</span>" (исполнитель, за которым следует пробел, тире, ещё
                        один пробел и заголовок).
                        
                     </p>
                     
                     
                     <p>
                        Если формат указан, то всё, исключая мета-символы, копируется как есть, а
                        сами мета-символы подменяются следующим образом:
                        
                     </p>
                     
                     
                     <ul>
                        
                        <li>
                           
                           <p><span class="parameter">%p</span> подменён текущим значением строки
                              <span class="varname">PERFORMER</span>,
                           </p>
                           
                        </li>
                        
                        <li>
                           
                           <p><span class="parameter">%t</span> подменён текущим значением строки
                              <span class="varname">TITLE</span>,
                           </p>
                           
                        </li>
                        
                        <li>
                           
                           <p><span class="parameter">%n</span> подменён номером текущей дорожки и
                           </p>
                           
                        </li>
                        
                        <li>
                           
                           <p><span class="parameter">%N</span> подменён номером текущей дорожки с добавлением
                              начального нуля, если это &lt; 10.
                           </p>
                           
                        </li>
                        
                     </ul>
                     
                  </td>
               </tr>
               <tr>
                  <td class="varlistoption"><a name="mkvmerge.description.chapters"><span class="option">--chapters</span> <span class="parameter">имя-файла</span></a></td>
                  <td>
                     
                     <p>
                        Считывает информацию о главе из файла
                        <span class="parameter">имя-файла</span>. Подробности смотрите в разделе о <a href="#mkvmerge.chapters">главах</a> ниже.
                        
                     </p>
                     
                  </td>
               </tr>
               <tr>
                  <td class="varlistoption"><a name="mkvmerge.description.global_tags"><span class="option">--global-tags</span> <span class="parameter">имя-файла</span></a></td>
                  <td>
                     
                     <p>
                        Считывает глобальные теги из файла
                        <span class="parameter">имя-файла</span>. Подробности смотрите в разделе о <a href="#mkvmerge.chapters">тегах</a> ниже.
                        
                     </p>
                     
                  </td>
               </tr>
            </tbody>
         </table>
         
         
         
         <h2><a name="d4e853">2.4. Основные настройки вывода (расширенные глобальные параметры)</a></h2>
         
         
         
         <table class="variablelist">
            <thead>
               <tr>
                  <th>Option</th>
                  <th>Description</th>
               </tr>
            </thead>
            <tbody>
               <tr>
                  <td class="varlistoption"><a name="mkvmerge.description.track_order"><span class="option">--track-order</span>
                        <span class="parameter">FID1:TID1,FID2:TID2,...</span></a></td>
                  <td>
                     
                     <p>
                        Этот параметр меняет порядок, в котором создаются дорожки для входного
                        файла. Аргументом является список пар ИД, разделённых запятыми. Каждая пара
                        изначально содержит ИД файла (<span class="parameter">FID1</span>), который является
                        просто номером файла в командной строке, начиная с 0. Вторым является ИД
                        дорожки (<span class="parameter">TID1</span>) из этого файла. Если некоторые ИД
                        дорожек пропущены, эти дорожки создаются после того, как были созданы
                        дорожки, заданные этим параметром.
                        
                     </p>
                     
                     
                     <p>
                        Если этот параметр не указан, дорожки будут отсортированы по их типу в
                        первую очередь и по порядку их исходного файла во вторую очередь. Первыми
                        идут видеодорожки, затем аудиодорожки и дорожки субтитров. Другие редко
                        используемые типы дорожек идут последними.
                        
                     </p>
                     
                  </td>
               </tr>
               <tr>
                  <td class="varlistoption"><a name="mkvmerge.description.cluster_length"><span class="option">--cluster-length</span> <span class="parameter">свойство</span></a></td>
                  <td>
                     
                     <p>
                        Ограничивает число блоков данных или длительность данных в каждом
                        кластере. Параметр <span class="parameter">spec</span> может быть числом
                        <span class="parameter">n</span> без единиц или числом <span class="parameter">d</span> с
                        постфиксом «<span class="literal">ms</span>».
                        
                     </p>
                     
                     
                     <p>
                        Если значение не указано, то <span class="productname">mkvmerge</span>(1) поместит в каждый кластер не более
                        <span class="parameter">n</span> блоков данных. Максимальное количество блоков —
                        65535.
                        
                     </p>
                     
                     
                     <p>
                        Если число <span class="parameter">d</span> имеет постфикс «<span class="literal">ms</span>»,
                        тогда <span class="productname">mkvmerge</span>(1) размещает максимум <span class="parameter">d</span> миллисекунд
                        данных в каждый кластера. Диапазон для <span class="parameter">d</span> — от
                        «<span class="literal">100 мс</span>» до «<span class="literal">32000 мс</span>».
                        
                     </p>
                     
                     
                     <p>
                        По умолчанию <span class="productname">mkvmerge</span>(1) размещает не более 65535 блоков и 5000 мс данных в
                        кластер.
                        
                     </p>
                     
                     
                     <p>
                        Программы, пытающиеся найти определённый кадр, могут обращаться только
                        непосредственно к кластеру, а затем должны прочесть весь кластер. Поэтому
                        создание больших кластеров может привести к неточному или медленному поиску.
                        
                     </p>
                     
                  </td>
               </tr>
               <tr>
                  <td class="varlistoption"><a name="mkvmerge.description.clusters_in_meta_seek"><span class="option">--clusters-in-meta-seek</span></a></td>
                  <td>
                     
                     <p>
                        Указывает <span class="productname">mkvmerge</span>(1) создать метаэлемент поиска в конце файла, содержащего
                        все кластеры. Смотрите также раздел о <a href="#mkvmerge.file_layout">компоновке файла Matroska</a>.
                        
                     </p>
                     
                  </td>
               </tr>
               <tr>
                  <td class="varlistoption"><a name="mkvmerge.description.timestamp_scale"><span class="option">--timestamp-scale</span> <span class="parameter">фактор</span></a></td>
                  <td>
                     
                     <p>
                        Принудительное применение <span class="parameter">фактора</span> к масштабированию
                        временных меток. Допустимы значения в интервале
                        <span class="constant">1000</span>..<span class="constant">10000000</span> или специальное
                        значение <span class="constant">-1</span>.
                        
                     </p>
                     
                     
                     <p>
                        Обычно <span class="productname">mkvmerge</span>(1) использует значение <span class="constant">1000000</span>, что
                        означает, что метки времени и длительности имеют точность 1 мс. Для файлов,
                        которые не содержат в себе видеодорожку, но имеют по крайней мере одну
                        звуковую <span class="productname">mkvmerge</span>(1) автоматически выберет коэффициент масштаба метки
                        времени, чтобы все метки времени и длительность имели точность до одного
                        звукового образца. Это влечёт за собой большие накладные расходы, но
                        обеспечивает точный поиск и извлечение.
                        
                     </p>
                     
                     
                     <p>
                        Если используется специальное значение -1, то <span class="productname">mkvmerge</span>(1) будет использовать
                        точность до одного семпла, даже если видео-дорожка присутствует.
                        
                     </p>
                     
                  </td>
               </tr>
               <tr>
                  <td class="varlistoption"><a name="mkvmerge.description.enable_durations"><span class="option">--enable-durations</span></a></td>
                  <td>
                     
                     <p>
                        Записать длительность всех блоков. Это увеличит размер файла, и на данный
                        момент не даёт никаких дополнительных преимуществ для плееров.
                        
                     </p>
                     
                  </td>
               </tr>
               <tr>
                  <td class="varlistoption"><a name="mkvmerge.description.no_cues"><span class="option">--no-cues</span></a></td>
                  <td>
                     
                     <p>
                        Сообщает <span class="productname">mkvmerge</span>(1) не создавать и записывать данные cue, которые могут быть
                        сопоставлены с индексом в AVI. Файлы <span class="productname">Matroska</span><sup>(tm)</sup> можно воспроизводить без
                        данных cue, но поиск, вероятно, будет неточным и медленным. Используйте это,
                        только если вы действительно крайне нуждаетесь в месте или в целях
                        тестирования. Смотрите также параметр <a href="#mkvmerge.description.cues">--cues</a>, который
                        можно указать для каждого входного файла.
                        
                     </p>
                     
                  </td>
               </tr>
               <tr>
                  <td class="varlistoption"><a name="mkvmerge.description.no_date"><span class="option">--no-date</span></a></td>
                  <td>
                     
                     <p>
                        По умолчанию <span class="productname">mkvmerge</span>(1) устанавливает в поле информации о сегменте "дата"
                        время и дату начала мультиплексирования. C этим параметре это поле вообще не
                        записывается.
                        
                     </p>
                     
                  </td>
               </tr>
               <tr>
                  <td class="varlistoption"><a name="mkvmerge.description.disable_lacing"><span class="option">--disable-lacing</span></a></td>
                  <td>
                     
                     <p>
                        Отключает сшивания на всех дорожках. Это увеличит размер файла, особенно
                        если в нём много звуковых дорожек. Этот параметр не для повседневного
                        использования.
                        
                     </p>
                     
                  </td>
               </tr>
               <tr>
                  <td class="varlistoption"><a name="mkvmerge.description.disable_track_statistics_tags"><span class="option">--disable-track-statistics-tags</span></a></td>
                  <td>
                     
                     <p>
                        Обычно <span class="productname">mkvmerge</span>(1) записывает определённые теги со статистикой для каждой
                        дорожки. Если такие теги уже есть, они будут перезаписаны. Теги:
                        <span class="constant">BPS</span>, <span class="constant">DURATION</span>,
                        <span class="constant">NUMBER_OF_BYTES</span> и
                        <span class="constant">NUMBER_OF_FRAMES</span>.
                        
                     </p>
                     
                     
                     <p>
                        Включение этого параметра запрещает <span class="productname">mkvmerge</span>(1) записывать эти теги и
                        перезаписывать существующие теги с такими же названиями.
                        
                     </p>
                     
                  </td>
               </tr>
               <tr>
                  <td class="varlistoption"><a name="mkvmerge.description.disable_language_ietf"><span class="option">--disable-language-ietf</span></a></td>
                  <td>
                     
                     <p>
                        Обычно <span class="productname">mkvmerge</span>(1) записывает новые языковые элементы IETF BCP 47 в
                        дополнение к устаревшим языковым элементам в заголовках, главах и тегах
                        дорожек. Если используется этот параметр, записываются только устаревшие
                        элементы.
                        
                     </p>
                     
                  </td>
               </tr>
               <tr>
                  <td class="varlistoption"><a name="mkvmerge.description.normalize_language_ietf"><span class="option">--normalize-language-ietf</span> <span class="parameter">режим</span></a></td>
                  <td>
                     
                     <p>
                        Позволяет нормализовать все языковые теги IETF BCP 47 к их канонической
                        форме с режимом «<span class="literal">canonical</span>», к их форме расширенных
                        языковых подтегов с помощью режима «<span class="literal">extlang</span>» или
                        отключает его в режиме <span class="literal">off</span>. По умолчанию применяется
                        нормализация к канонической форме.
                        
                     </p>
                     
                     
                     <p>
                        В канонической форме все подтеги, для которых существуют предпочтительные
                        значения, заменяются этими предпочтительными значениями. Это преобразует,
                        например, «<span class="literal">zh-yue-jyutping</span>» в
                        «<span class="literal">yue-jyutping</span>» или «<span class="literal">fr-FX</span>» в
                        «<span class="literal">fr-FR</span>».
                        
                     </p>
                     
                     
                     <p>
                        Для формы расширенных языковых подтегов изначально строится каноническая
                        форма. После этого все основные языки, для которых существует расширенный
                        языковой подтег, заменяются этим расширенным языковым подтегом и его
                        префиксом. Это преобразует, например, «<span class="literal">yue-jyutping</span>»
                        обратно к «<span class="literal">zh-yue-jyutping</span>», но не влияет на
                        «<span class="literal">fr-FR</span>», потому что «<span class="literal">fr</span>» не является
                        расширенным языковым подтегом.
                        
                     </p>
                     
                  </td>
               </tr>
               <tr>
                  <td class="varlistoption"><a name="mkvmerge.description.stop_after_video_ends"><span class="option">--stop-after-video-ends</span></a></td>
                  <td>
                     
                     <p>
                        Прекращает обработку по окончании основной видеодорожки, отбрасывая все
                        оставшиеся пакеты других дорожек.
                        
                     </p>
                     
                  </td>
               </tr>
            </tbody>
         </table>
         
         
         
         <h2><a name="d4e1246">2.5. Разбиение, связывание, соединение и склеивание файлов (другие глобальные
               параметры)</a></h2>
         
         
         
         <table class="variablelist">
            <thead>
               <tr>
                  <th>Option</th>
                  <th>Description</th>
               </tr>
            </thead>
            <tbody>
               <tr>
                  <td class="varlistoption"><a name="mkvmerge.description.split"><span class="option">--split</span> <span class="parameter">спецификация</span></a></td>
                  <td>
                     
                     <p>
                        Разрезает выходной файл по достижению заданного размера или заданного
                        времени. Обратите внимание, что треки могут быть разделены только
                        непосредственно перед ключевым кадром. Поэтому точка разделения может быть
                        немного не совпадать с тем, что указал пользователь.
                        
                     </p>
                     
                     
                     <p>
                        На данный момент <span class="productname">mkvmerge</span>(1) поддерживает следующие режимы:
                        
                     </p>
                     
                     
                     <ol>
                        
                        <li>
                           
                           <p>
                              Разбиение по размеру.
                              
                           </p>
                           
                           
                           <p>
                              Синтаксис: <span class="option">--split</span>
                              [<span class="literal">size:</span>]<span class="parameter">d</span>[k|m|g]
                              
                           </p>
                           
                           
                           <p>
                              Примеры: <span class="code">--split size:700m</span> или <span class="code">--split 150000000</span>
                              
                           </p>
                           
                           
                           <p>
                              Параметр <span class="parameter">d</span> может заканчиваться на
                              «<span class="literal">k</span>» «<span class="literal">m</span>» или «<span class="literal">g</span>»,
                              чтобы указать, что размер в КБ, МБ или ГБ соответственно. В ином случае
                              предполагается размер в байтах. После того как текущий исходный файл
                              достигнет этого ограничения размера, будет создан новый.
                              
                           </p>
                           
                           
                           <p>
                              Префикс '<span class="literal">size:</span>' может быть опущен по соображениям
                              совместимости.
                              
                           </p>
                           
                        </li>
                        
                        
                        <li>
                           
                           <p>
                              Разбиение по прошествии времени.
                              
                           </p>
                           
                           
                           <p>
                              Синтаксис: <span class="option">--split</span>
                              [<span class="literal">duration:</span>]<span class="parameter">HH:MM:SS.nnnnnnnnn</span>|<span class="parameter">d</span>s
                              
                           </p>
                           
                           
                           <p>
                              Примеры: <span class="code">--split duration:00:60:00.000</span> или <span class="code">--split
                                 3600s</span>
                              
                           </p>
                           
                           
                           <p>
                              Параметр должен иметь форму <span class="parameter">HH:MM:SS.nnnnnnnnn</span> для
                              определения длительности с точностью до наносекунды или быть числом
                              <span class="parameter">d</span>, за которым следует буква «<span class="literal">s</span>»
                              для длительности в секундах. Параметр <span class="parameter">HH</span> — это часы,
                              <span class="parameter">MM</span> — минуты, <span class="parameter">SS</span> — секунды, и
                              <span class="parameter">nnnnnnnnn</span> — наносекунды. Как часы, так и наносекунды
                              можно опустить. После запятой может быть до девяти цифр. После того, как
                              длительность содержимого текущего вывода достигнет этого предела, будет
                              запущен новый исходный файл.
                              
                           </p>
                           
                           
                           <p>
                              Префикс '<span class="literal">duration:</span>' может быть опущен по соображениям
                              совместимости.
                              
                           </p>
                           
                        </li>
                        
                        
                        <li>
                           
                           <p>
                              Разбиение после указной метки времени.
                              
                           </p>
                           
                           
                           <p>
                              Синтаксис: <span class="option">--split</span>
                              <span class="literal">timestamps:</span><span class="parameter">A</span>[,<span class="parameter">B</span>[,<span class="parameter">C</span>...]]
                              
                           </p>
                           
                           
                           <p>
                              Пример: <span class="code">--split timestamps:00:45:00.000,01:20:00.250,6300s</span>
                              
                           </p>
                           
                           
                           <p>
                              Параметры <span class="parameter">A</span>, <span class="parameter">B</span>,
                              <span class="parameter">C</span> и т. п. должны иметь тот же формат, что и те, что
                              используются для продолжительности (см. выше). Список меток времени
                              разделяется запятыми. После того, как входной поток достиг метки времени
                              текущей точки разделения, создаётся новый файл. Затем используется следующая
                              точка разделения, указанная в этом списке.
                              
                           </p>
                           
                           
                           <p>
                              Префикс '<span class="literal">timestamps:</span>' не может быть опущен.
                              
                           </p>
                           
                        </li>
                        
                        
                        <li>
                           
                           <p>
                              Сохраняет отдельные части, указанные в диапазоне временных меток, и
                              отбрасывает остальные.
                              
                           </p>
                           
                           
                           <p>
                              Syntax: <span class="option">--split</span>
                              <span class="literal">parts:</span><span class="parameter">start1</span>-<span class="parameter">end1</span>[,[+]<span class="parameter">start2</span>-<span class="parameter">end2</span>[,[+]<span class="parameter">start3</span>-<span class="parameter">end3</span>...]]
                              
                           </p>
                           
                           
                           <p>
                              Примеры: 
                              <ol>
                                 
                                 <li>
                                    <p><span class="code">--split parts:00:01:20-00:02:45,00:05:50-00:10:30</span></p>
                                 </li>
                                 
                                 <li>
                                    <p><span class="code">--split parts:00:01:20-00:02:45,+00:05:50-00:10:30</span></p>
                                 </li>
                                 
                                 <li>
                                    <p><span class="code">--split parts:-00:02:45,00:05:50-</span></p>
                                 </li>
                                 
                              </ol>
                              
                           </p>
                           
                           
                           <p>
                              Режим <span class="literal">parts</span> указывает <span class="productname">mkvmerge</span>(1) сохранять определённые
                              диапазоны меток времени и отбросить другие. Диапазоны, которые необходимо
                              сохранить, должны быть перечислены после ключевого слова
                              <span class="literal">parts:</span> и разделены запятыми. Сам диапазон состоит из
                              метки времени начала и конца в формате одинакового вида, который принимается
                              в разных вариантах <span class="parameter">--split</span> (например,
                              <span class="literal">00:01:20</span> и <span class="literal">80s</span> ссылаются на ту же
                              метку времени).
                              
                           </p>
                           
                           
                           <p>
                              Если начальная метка времени не указана, то по умолчанию будет использована
                              метка времени конца предыдущего диапазона. Если предыдущего диапазона нет,
                              то будет использоваться начало файла (см. пример 3).
                              
                           </p>
                           
                           
                           <p>
                              Если конечная метка времени не указана, то по умолчанию она указывает на
                              конец фала, так что <span class="productname">mkvmerge</span>(1) просто сохранит оставшееся (см. пример 3).
                              
                           </p>
                           
                           
                           <p>
                              Обычно каждый диапазон записывается в новый файл. Это можно изменить так,
                              чтобы последовательные диапазоны записывались в один файл. Для этого
                              пользователь должен поставить перед меткой времени начала символ
                              <span class="literal">+</span>. Это указывает <span class="productname">mkvmerge</span>(1) не создавать новый файл, а
                              вместо этого добавить диапазон в тот же файл, в который был записан
                              предыдущий диапазон. Метки времени будут настроены таким образом, чтобы во
                              входном файле не было пробелов, даже если во входном файле был пробел в двух
                              диапазонах.
                              
                           </p>
                           
                           
                           <p>
                              В примере 1 <span class="productname">mkvmerge</span>(1) создаст два файла. Первый будет содержать данные с
                              <span class="literal">00:01:20</span> по <span class="literal">00:02:45</span>. Второй файл
                              будет содержать данные с <span class="literal">00:05:50</span> по
                              <span class="literal">00:10:30</span>.
                              
                           </p>
                           
                           
                           <p>
                              В примере 2 <span class="productname">mkvmerge</span>(1) создаст единственный файл. Он будет содержать данные
                              как с <span class="literal">00:01:20</span> по <span class="literal">00:02:45</span>, так и с
                              <span class="literal">00:05:50</span> по <span class="literal">00:10:30</span>.
                              
                           </p>
                           
                           
                           <p>
                              В примере 3 <span class="productname">mkvmerge</span>(1) создаст два файла. Первый будет содержать данные от
                              начала исходного файла по <span class="literal">00:02:45</span>. Второй файл будет
                              содержать данные с <span class="literal">00:05:50</span> и до конца исходного файла.
                              
                           </p>
                           
                           
                           <div class="note">
                              <p class="note-title">Note:</p>
                              
                              <p>
                                 Обратите внимание, что <span class="productname">mkvmerge</span>(1) выполняет разделение лишь по позициям
                                 ключевых кадров. Это относится как к началу, так и к концу каждого
                                 диапазона. Поэтому, даже если метка времени конца находится между двумя
                                 ключевыми кадрами, <span class="productname">mkvmerge</span>(1) продолжит вывод кадров до следующего ключевого
                                 кадра, но не включая его.
                                 
                              </p>
                              
                           </div>
                           
                        </li>
                        
                        
                        <li>
                           
                           <p>
                              Сохраняет отдельные части, указанные в диапазоне номеров кадров/полей, и
                              отбрасывает остальные.
                              
                           </p>
                           
                           
                           <p>
                              Синтаксис: <span class="option">--split</span>
                              <span class="literal">parts-frames:</span><span class="parameter">start1</span>-<span class="parameter">end1</span>[,[+]<span class="parameter">start2</span>-<span class="parameter">end2</span>[,[+]<span class="parameter">start3</span>-<span class="parameter">end3</span>...]]
                              
                           </p>
                           
                           
                           <p>
                              Примеры: 
                              <ol>
                                 
                                 <li>
                                    <p><span class="code">--split parts-frames:137-258,548-1211</span></p>
                                 </li>
                                 
                                 <li>
                                    <p><span class="code">--split parts-frames:733-912,+1592-2730</span></p>
                                 </li>
                                 
                                 <li>
                                    <p><span class="code">--split parts-frames:-430,2512-</span></p>
                                 </li>
                                 
                              </ol>
                              
                           </p>
                           
                           
                           <p>
                              Режим <span class="literal">parts-frames</span> указывает <span class="productname">mkvmerge</span>(1) сохранить
                              определённые диапазоны номеров кадров/полей, отбрасывая другие. Диапазоны
                              для сохранения должны быть перечислены после ключевого слова
                              <span class="literal">parts-frames:</span> и разделены запятыми. Сам диапазон состоит
                              из начального и конечного номера кадра/поля. Нумерация начинается с 1.
                              
                           </p>
                           
                           
                           <p>
                              Если начальное число не указано, то по умолчанию будет использовано число
                              конца предыдущего диапазона. Если предыдущего диапазона нет, то будет
                              использоваться начало файла (см. пример 3).
                              
                           </p>
                           
                           
                           <p>
                              Если конечное число не указано, то по умолчанию оно указывает на конец фала,
                              так что <span class="productname">mkvmerge</span>(1) просто сохранит оставшееся (см. пример 3).
                              
                           </p>
                           
                           
                           <p>
                              Обычно каждый диапазон записывается в новый файл. Это можно изменить так,
                              чтобы последовательные диапазоны записывались в один файл. Для этого
                              пользователь должен поставить перед номером начала символ
                              <span class="literal">+</span>. Это указывает <span class="productname">mkvmerge</span>(1) не создавать новый файл, а
                              вместо этого добавить диапазон в тот же файл, в который был записан
                              предыдущий диапазон. Метки времени будут настроены таким образом, чтобы во
                              входном файле не было пробелов, даже если во входном файле был пробел в двух
                              диапазонах.
                              
                           </p>
                           
                           
                           <div class="note">
                              <p class="note-title">Note:</p>
                              
                              <p>
                                 Обратите внимание, что <span class="productname">mkvmerge</span>(1) выполняет разделение только по позициям
                                 ключевых кадров. Это относится как к началу, так и к концу каждого
                                 диапазона. Поэтому, даже если конечный кадр / номер поля находится между
                                 двумя ключевыми кадрами, <span class="productname">mkvmerge</span>(1) продолжит вывод кадров вплоть до
                                 следующего ключевого кадра, исключая его.
                                 
                              </p>
                              
                           </div>
                           
                           
                           <p>
                              В примере 1 <span class="productname">mkvmerge</span>(1) создаст два файла. Первый будет включать содержимое,
                              начиная с первого ключевого кадра <span class="literal">137</span>, но исключая первый
                              ключевой кадр с или после <span class="literal">258</span>. Второй файл будет включать
                              содержимое от <span class="literal">548</span> до <span class="literal">1211</span>.
                              
                           </p>
                           
                           
                           <p>
                              В примере 2 <span class="productname">mkvmerge</span>(1) создаст только один файл. Этот файл будет включать
                              содержимое, начиная с <span class="literal">733</span> до <span class="literal">912</span>, и
                              содержимое, начиная с <span class="literal">1592</span> до <span class="literal">2730</span>.
                              
                           </p>
                           
                           
                           <p>
                              В примере 3 <span class="productname">mkvmerge</span>(1) создаст два файла. Первый будет содержать данные от
                              начала исходного файла по <span class="literal">430</span>. Второй файл будет
                              содержать данные с <span class="literal">2512</span> и до конца исходного файла.
                              
                           </p>
                           
                           
                           <p>
                              Этот режим берёт для вывода только первую видеодорожку. Если вывод не
                              является видеодорожкой, разбиение произведено не будет.
                              
                           </p>
                           
                           
                           <div class="note">
                              <p class="note-title">Note:</p>
                              
                              <p>
                                 Номера, заданные с этим аргументом, интерпретируются на основе числа
                                 выводимых блоков <span class="productname">Matroska</span><sup>(tm)</sup>. Единый блок <span class="productname">Matroska</span><sup>(tm)</sup> содержит либо полный
                                 кадр (для прогрессивного содержимого) или одно поле (для содержимого с
                                 чередованием). mkvmerge не различает их и просто подсчитывает количество
                                 блоков. Например: если вы хотите разделить после 25-го полного кадра с
                                 чередующимся содержимым, вам придётся в качестве точки разделения указать
                                 <span class="literal">50</span> (два поля на полный кадр).
                                 
                              </p>
                              
                           </div>
                           
                        </li>
                        
                        
                        <li>
                           
                           <p>
                              Разбиение после указанного кадра/поля.
                              
                           </p>
                           
                           
                           <p>
                              Синтаксис: <span class="option">--split</span>
                              <span class="literal">frames:</span><span class="parameter">A</span>[,<span class="parameter">B</span>[,<span class="parameter">C</span>...]]
                              
                           </p>
                           
                           
                           <p>
                              Пример: <span class="code">--split frames:120,237,891</span>
                              
                           </p>
                           
                           
                           <p>
                              Все параметры <span class="parameter">A</span>, <span class="parameter">B</span>,
                              <span class="parameter">C</span> и далее должны быть целыми положительными
                              числами. Нумерация начинается с 1. Список номеров кадров/полей разделяется
                              запятыми. После того, как входящий поток достиг номера кадра/поля текущей
                              точки разделения, создаётся новый файл. Затем используется следующая точка
                              разделения, указанная в этом списке.
                              
                           </p>
                           
                           
                           <p>
                              Префикс '<span class="literal">frames:</span>' не может быть опущен.
                              
                           </p>
                           
                           
                           <p>
                              Этот режим берёт для вывода только первую видеодорожку. Если вывод не
                              является видеодорожкой, разбиение произведено не будет.
                              
                           </p>
                           
                           
                           <div class="note">
                              <p class="note-title">Note:</p>
                              
                              <p>
                                 Номера, заданные с этим аргументом, интерпретируются на основе числа
                                 выводимых блоков <span class="productname">Matroska</span><sup>(tm)</sup>. Единый блок <span class="productname">Matroska</span><sup>(tm)</sup> содержит либо полный
                                 кадр (для прогрессивного содержимого) или одно поле (для содержимого с
                                 чередованием). mkvmerge не различает их и просто подсчитывает количество
                                 блоков. Например: если вы хотите разделить после 25-го полного кадра с
                                 чередующимся содержимым, вам придётся в качестве точки разделения указать
                                 <span class="literal">50</span> (два поля на полный кадр).
                                 
                              </p>
                              
                           </div>
                           
                        </li>
                        
                        
                        <li>
                           
                           <p>
                              Разбиение перед указанной главой.
                              
                           </p>
                           
                           
                           <p>
                              Синтаксис: <span class="option">--split</span> <span class="literal">chapters:all</span> or
                              <span class="option">--split</span>
                              <span class="literal">chapters:</span><span class="parameter">A</span>[,<span class="parameter">B</span>[,<span class="parameter">C</span>...]]
                              
                           </p>
                           
                           
                           <p>
                              Пример: <span class="code">--split chapters:5,8</span>
                              
                           </p>
                           
                           
                           <p>
                              Все параметры A, B, C и далее должны быть целыми положительными
                              числами. Нумерация начинается с 1. Список номеров глав разделяется
                              запятыми. Разделение произойдёт непосредственно перед первым ключевым
                              кадром, метка времени которого равна или больше начальной метки времени для
                              глав, номера которых указаны. Глава, начинающаяся с 0s, никогда не
                              рассматривается для разделения и отбрасывается без изменений.
                              
                           </p>
                           
                           
                           <p>
                              Вместо указания номеров всех глав, достаточно использовать ключевое слово
                              <span class="literal">all</span>.
                              
                           </p>
                           
                           
                           <p>
                              Префикс '<span class="literal">chapters:</span>' не может быть опущен.
                              
                           </p>
                           
                           
                           <div class="note">
                              <p class="note-title">Note:</p>
                              
                              <p>
                                 Формат файла <span class="productname">Matroska</span><sup>(tm)</sup> поддерживает произвольные глубоко вложенные
                                 структуры глав, которые называются «записями издания» и «атомами
                                 глав». Однако этот режим учитывает лишь самый высокий уровень глав во всех
                                 записях издания.
                                 
                              </p>
                              
                           </div>
                           
                        </li>
                        
                     </ol>
                     
                     
                     <p>
                        Для этого режима разделения имя исходного файла обрабатывается иначе, чем
                        для обычной операции. Он может содержать <span class="function">printf</span>,
                        выражение на подобии «<span class="code">%d</span>», включая необязательную ширину поля,
                        напр. «<span class="code">%02d</span>». Если это так, то номер текущего файла будет
                        отформатирован соответствующим образом и вставлен в это место имени
                        файла. Если такого шаблона нет, то перед расширением файла предусматривается
                        шаблон «<span class="code">-%03d</span>»: «<span class="code">-o output.mkv</span>» приведёт к
                        «<span class="code">output-001.mkv</span>»' и т. д. Если расширения нет, к имени будет
                        добавлено «<span class="code">-%03d</span>».
                        
                     </p>
                     
                     
                     <p>
                        Другим возможным шаблоном является «<span class="code">%c</span>», который будет заменён
                        названием первой главы в файле. Обратите внимание, что когда присутствует
                        «<span class="code">%c</span>», шаблон «<span class="code">-%03d</span>» не будет добавлен
                        автоматически.
                        
                     </p>
                     
                  </td>
               </tr>
               <tr>
                  <td class="varlistoption"><a name="mkvmerge.description.link"><span class="option">--link</span></a></td>
                  <td>
                     
                     <p>
                        Связать файлы друг с другом при разделении выходного файла. Подробности
                        смотрите в разделе о <a href="#mkvmerge.file_linking">связывание
                           файлов</a> ниже.
                        
                     </p>
                     
                  </td>
               </tr>
               <tr>
                  <td class="varlistoption"><a name="mkvmerge.description.link_to_previous"><span class="option">--link-to-previous</span> <span class="parameter">segment-UID</span></a></td>
                  <td>
                     
                     <p>
                        Связывает первый исходный файл с сегментом из UID сегмента, заданным
                        параметром <span class="parameter">segment-UID</span>. Подробности смотрите в
                        разделе <a href="#mkvmerge.file_linking">связывание файла</a> ниже.
                        
                     </p>
                     
                     
                     <p>
                        Если SID начинается с =, то остальное будет распознано как имя файла
                        Matroska, чей сегмент UID считывается и используется.
                        
                     </p>
                     
                  </td>
               </tr>
               <tr>
                  <td class="varlistoption"><a name="mkvmerge.description.link_to_next"><span class="option">--link-to-next</span> <span class="parameter">segment-UID</span></a></td>
                  <td>
                     
                     <p>
                        Связывает последний исходный файл с сегментом из UID сегмента, заданным
                        параметром <span class="parameter">segment-UID</span>. Подробности смотрите в
                        разделе <a href="#mkvmerge.file_linking">связывание файла</a> ниже.
                        
                     </p>
                     
                     
                     <p>
                        Если SID начинается с =, то остальное будет распознано как имя файла
                        Matroska, чей сегмент UID считывается и используется.
                        
                     </p>
                     
                  </td>
               </tr>
               <tr>
                  <td class="varlistoption"><a name="mkvmerge.description.append_mode"><span class="option">--append-mode</span> <span class="parameter">режим</span></a></td>
                  <td>
                     
                     <p>
                        Определяет способ вычисления меток времени при присоединении
                        файлов. Параметр <span class="parameter">mode</span> имеет два значения: по
                        умолчанию "<span class="literal">file</span>" и "<span class="literal">track</span>".
                        
                     </p>
                     
                     
                     <p>
                        Когда mkvmerge добавляет дорожку (отныне называется
                        '<span class="literal">track2_1</span>') из второго файла (что зовётся
                        '<span class="literal">file2</span>') к дорожке (что зовётся
                        '<span class="literal">track1_1</span>') из первого файла (что зовётся
                        '<span class="literal">file1</span>'), то он должен смещать все метки времени для
                        '<span class="literal">track2_1</span>' на определённую величину. Для режима
                        '<span class="literal">file</span>' эта сумма является самой высокой меткой времени,
                        встречающейся в '<span class="literal">file1</span>', даже если эта метка времени была
                        из дорожки, отличной от '<span class="literal">track1_1</span>'. В режиме трека сдвиг
                        — это самая высокая временная метка '<span class="literal">track1_1</span>'.
                        
                     </p>
                     
                     
                     <p>
                        К сожалению, mkvmerge не может определить, какой режим надёжен для
                        использования. Поэтому по умолчанию он работает в режиме
                        '<span class="literal">file</span>'. Режим '<span class="literal">file</span>' обычно лучше
                        работает для файлов, которые были созданы независимо друг от друга;
                        например, при добавлении файлов <span class="abbrev">AVI</span> или
                        <span class="abbrev">MP4</span>. Режим '<span class="literal">track</span>' может работать лучше
                        для источников, которые по сути являются просто частями одного большого
                        файла, например, для файлов <span class="abbrev">VOB</span> и <span class="abbrev">EVO</span>.
                        
                     </p>
                     
                     
                     <p>
                        Дорожки субтитров всегда обрабатываются так, как если бы режим "file" был
                        активен, даже если включен режим "<span class="literal">track</span>".
                        
                     </p>
                     
                  </td>
               </tr>
               <tr>
                  <td class="varlistoption"><a name="mkvmerge.description.append_to"><span class="option">--append-to</span>
                        <span class="parameter">SFID1:STID1:DFID1:DTID1[,...]</span></a></td>
                  <td>
                     
                     <p>
                        Этот параметр определяет, к какой дорожке будет добавлена другая
                        дорожка. Каждая спецификация содержит четыре идентификатора: ИД файла, ИД
                        дорожки, ИД второго файла и ИД второй дорожки. Первая пара, «ИД исходного
                        файла» и «ИД исходной дорожки», определяет дорожку, которая должна быть
                        добавлена. Вторая пара, «ИД файла назначения» и «ИД дорожки назначения»,
                        определяет дорожку, к которой добавляется первая.
                        
                     </p>
                     
                     
                     <p>
                        Если этот параметр был пропущен, используется стандартное сопоставление. Это
                        стандартное сопоставление добавляет каждую дорожку из текущего файла к
                        дорожке из предыдущего файла с тем же ИД дорожки. Это позволяет легко
                        добавлять, если фильм был разделен на две части и оба файла имеют одинаковое
                        количество дорожек и ИД дорожек с помощью команды <span class="command">mkvmerge -o
                           output.mkv part1.mkv +part2.mkv</span>.
                        
                     </p>
                     
                  </td>
               </tr>
               <tr>
                  <td class="varlistoption"><a name="mkvmerge.description.plus_sign"><span class="option">+</span></a></td>
                  <td>
                     
                     <p>
                        Одиночный «+» вызывает присоединение следующего файла, а не его
                        добавление. «+» также можно поставить перед именем следующего файла. Поэтому
                        следующие две команды эквивалентны:
                        
                     </p>
                     
                     <pre class="screen">$ mkvmerge -o полный.mkv файл1.mkv + файл2.mkv
$ mkvmerge -o полный.mkv файл1.mkv +файл2.mkv</pre>
                     </td>
               </tr>
               <tr>
                  <td class="varlistoption"><a name="mkvmerge.description.square_brackets"><span class="option">[</span> <span class="parameter">файл1</span> <span class="parameter">файл2</span>
                        <span class="option">]</span></a></td>
                  <td>
                     
                     <p>
                        Если несколько имён файлов содержатся в паре квадратных скобок, то второй и
                        все последующие файлы будут добавлены к первому файлу, названному в скобках.
                        
                     </p>
                     
                     
                     <p>
                        Альтернативное использование синтаксиса '+' между двумя именами
                        файлов. Поэтому следующие две команды эквивалентны:
                        
                     </p>
                     
                     <pre class="screen">$ mkvmerge -o полный.mkv файл1.mkv + файл2.mkv
$ mkvmerge -o полный.mkv '[' файл1.mkv файл2.mkv ']'</pre>
                     </td>
               </tr>
               <tr>
                  <td class="varlistoption"><a name="mkvmerge.description.prevent_concatenation"><span class="option">=</span></a></td>
                  <td>
                     
                     <p>
                        Для определённых типов файлов (программные потоки MPEG, то есть файлы VOB)
                        <span class="productname">mkvmerge</span>(1) обычно ищет файлы в том же каталоге, что и входной файл, которые
                        имеют тоже базовое имя и отличаются лишь своим текущим номером (например,
                        «VTS_01_1.VOB», «VTS_01_2.VOB», «VTS_01_3.VOB» и т. д.) и обрабатывает все
                        эти файлы, как если бы они были объединены в один большой файл. Этот
                        параметр, т. е. просто «=», вынудит mkvmerge не искать эти дополнительные
                        файлы.
                        
                     </p>
                     
                     
                     <p>
                        Также можно поставить '=' перед следующим именем файла. Поэтому следующие
                        две команды эквивалентны:
                        
                     </p>
                     
                     <pre class="screen">$ mkvmerge -o полный.mkv = файл1.vob
$ mkvmerge -o полный.mkv =файл1.vob</pre>
                     </td>
               </tr>
               <tr>
                  <td class="varlistoption"><a name="mkvmerge.description.concatenation"><span class="option">(</span> <span class="parameter">файл1</span> <span class="parameter">файл2</span>
                        <span class="option">)</span></a></td>
                  <td>
                     
                     <p>
                        Если несколько имён файлов находятся в паре скобок, эти файлы будут
                        рассматриваться так, как будто они были объединены в один большой файл,
                        состоящий из содержимого каждого из файлов один за другим.
                        
                     </p>
                     
                     
                     <p>
                        Это можно использовать, например, для файлов VOB, поступающих из
                        транспортных потоков DVD или MPEG. Его нельзя использовать, если каждый файл
                        содержит собственный набор заголовков, что обычно бывает с отдельными
                        файлами, такими как AVI или MP4.
                        
                     </p>
                     
                     
                     <p>
                        Ввод имени файла в скобки также препятствует поиску <span class="productname">mkvmerge</span>(1)
                        дополнительных файлов с таким же базовым названием, как описано в <a href="#mkvmerge.description.prevent_concatenation">параметре
                           =</a>. Поэтому эти две командные строки эквивалентны:
                        
                     </p>
                     
                     <pre class="screen">$ mkvmerge -o выход.mkv = файл.mkv
$ mkvmerge -o выход.mkv '(' файл.mkv ')'</pre>
                     
                     <p>
                        Следует отметить несколько моментов:
                        
                     </p>
                     
                     
                     <ol>
                        
                        <li>
                           
                           <p>
                              После открывающей и перед закрывающей скобкой должны быть пробелы.
                              
                           </p>
                           
                        </li>
                        
                        
                        <li>
                           
                           <p>
                              Каждый параметр между скобками интерпретируется как имя файла. Поэтому все
                              параметры, применяемые к этому логическому файлу, должны быть перечислены
                              перед начальной скобкой.
                              
                           </p>
                           
                        </li>
                        
                        
                        <li>
                           
                           <p>
                              Некоторые оболочки рассматривают скобки как специальные символы. Таким
                              образом, вы должны скрыть или процитировать их, как показано в приведённом
                              выше примере.
                              
                           </p>
                           
                        </li>
                        
                     </ol>
                     
                  </td>
               </tr>
            </tbody>
         </table>
         
         
         
         
         <h2><a name="d4e2307">2.6.  Поддержка вложений (другие глобальные параметры)</a></h2>
         
         
         
         <table class="variablelist">
            <thead>
               <tr>
                  <th>Option</th>
                  <th>Description</th>
               </tr>
            </thead>
            <tbody>
               <tr>
                  <td class="varlistoption"><a name="mkvmerge.description.attachment_description"><span class="option">--attachment-description</span> <span class="parameter">описание</span></a></td>
                  <td>
                     
                     <p>
                        Обычное текстовое описание следующего вложения. Применяется к следующему
                        параметру <a href="#mkvmerge.description.attach_file">--attach-file</a>
                        или <span class="option">--attach-file-once</span>.
                        
                        
                     </p>
                     
                  </td>
               </tr>
               <tr>
                  <td class="varlistoption"><a name="mkvmerge.description.attachment_mime_type"><span class="option">--attachment-mime-type</span> <span class="parameter">тип MIME</span></a></td>
                  <td>
                     
                     <p>
                        Тип <span class="abbrev">MIME</span> следующего вложения. Применяется к следующему
                        параметру <a href="#mkvmerge.description.attach_file">--attach-file</a>
                        или <a href="#mkvmerge.description.attach_file">--attach-file-once</a>.
                        Список официально распознаваемых типов <span class="abbrev">MIME</span> можно найти,
                        например, на <a href="https://www.iana.org/assignments/media-types/">домашней странице
                           IANA</a>. Тип <span class="abbrev">MIME</span> является обязательным для вложения.
                        
                     </p>
                     
                     
                     <p>
                        Если для вложения не задан тип <span class="abbrev">MIME</span>, то его тип будет
                        определён автоматически.
                        
                     </p>
                     
                  </td>
               </tr>
               <tr>
                  <td class="varlistoption"><a name="mkvmerge.description.attachment_name"><span class="option">--attachment-name</span> <span class="parameter">имя</span></a></td>
                  <td>
                     
                     <p>
                        Устанавливает имя, которое будет сохранено в исходном файле для этого
                        вложения. Если этот параметр не указан, имя будет получено из названия файла
                        вложенного файла, заданного с помощью параметров <a href="#mkvmerge.description.attach_file">--attach-file</a>
                        или <a href="#mkvmerge.description.attach_file">--attach-file-once</a>.
                        
                     </p>
                     
                  </td>
               </tr>
               <tr>
                  <td class="varlistoption"><a name="mkvmerge.description.attach_file">
                        <span class="option">--attach-file</span> <span class="parameter">имя-файла</span>,
                        <span class="option">--attach-file-once</span> <span class="parameter">имя-файла</span>
                        </a></td>
                  <td>
                     
                     <p>
                        Создаёт вложение внутри файла <span class="productname">Matroska</span><sup>(tm)</sup>. Перед использованием этого
                        параметра необходимо установить тип <span class="abbrev">MIME</span>. Разница между
                        этими двумя формами заключается в том, что при разделении файлы, вложенные с
                        помощью <span class="option">--attach-file</span>, прикрепляются ко всем исходным
                        файлам, а файлы, прикреплённые с помощью
                        <span class="option">--attach-file-once</span>, прикрепляются только к первому
                        созданному файлу. Если разделение не используется, то оба делают одно и то
                        же.
                        
                     </p>
                     
                     
                     <p>
                        <a href="mkvextract.html"><span class="productname">mkvextract</span>(1)</a> может использоваться для извлечения вложений из файла
                        <span class="productname">Matroska</span><sup>(tm)</sup>.
                        
                     </p>
                     
                  </td>
               </tr>
               <tr>
                  <td class="varlistoption"><a name="mkvmerge.description.enable_legacy_font_mime_types"><span class="option">--enable-legacy-font-mime-types</span></a></td>
                  <td>
                     
                     <p>
                        Позволяет использовать устаревшие типы <span class="abbrev">MIME</span> для
                        определённых типов вложений шрифтов. Например,
                        «<span class="literal">application/x-truetype-font</span>» будет использоваться для
                        шрифтов TrueType вместо «<span class="literal">fonts/ttf</span>».
                        
                     </p>
                     
                     
                     <p>
                        Это влияет как на новые вложения, если их тип <span class="abbrev">MIME</span>
                        обнаружен автоматически, так и на существующие вложения, чьи сохранённые
                        типы <span class="abbrev">MIME</span> будут заменены устаревшими.
                        
                     </p>
                     
                     
                     <p>
                        Затрагиваются типы <span class="abbrev">MIME</span>: «<span class="literal">font/sfnt</span>»,
                        «<span class="literal">font/ttf</span>» и «<span class="literal">font/collection</span>»; они
                        сопоставляются с «<span class="literal">application/x-truetype-fonts</span>» и
                        «<span class="literal">font/otf</span>», который сопоставляется с
                        «<span class="literal">application/vnd .ms-opentype</span>».
                        
                     </p>
                     
                  </td>
               </tr>
            </tbody>
         </table>
         
         
         
         <h2><a name="d4e2510">2.7. Параметры, которые могут быть использованы для каждого входного файла</a></h2>
         
         
         
         <table class="variablelist">
            <thead>
               <tr>
                  <th>Option</th>
                  <th>Description</th>
               </tr>
            </thead>
            <tbody>
               <tr>
                  <td class="varlistoption"><a name="mkvmerge.description.audio_tracks"><span class="option">-a</span>, <span class="option">--audio-tracks</span>
                        <span class="parameter">[!]n,m,...</span></a></td>
                  <td>
                     
                     <p>
                        Копировать дорожки аудио <span class="parameter">n</span>, <span class="parameter">m</span>
                        и так далее. Номера — это идентификаторы дорожек, которые можно узнать через
                        переключатель <a href="#mkvmerge.description.identify">--identify</a>.
                        Это не просто номера дорожек (см. раздел <a href="#mkvmerge.track_ids">идентификаторы дорожек</a>). По умолчанию:
                        копировать все дорожки аудио.
                        
                     </p>
                     
                     
                     <p>
                        Вместо идентификаторов дорожек вы также можете предоставить коды языков ISO
                        639-2. Это будет работать только для исходных файлов, которые содержат
                        языковые теги для своих дорожек.
                        
                     </p>
                     
                     
                     <p>
                        По умолчанию: копировать любые подобные дорожки.
                        
                     </p>
                     
                     
                     <p>
                        Если идентификаторы имеют префикс <span class="literal">!</span>, то значение
                        меняется: копировать все дорожки этого типа, кроме тех, которые перечислены
                        после <span class="literal">!</span>.
                        
                     </p>
                     
                  </td>
               </tr>
               <tr>
                  <td class="varlistoption"><a name="mkvmerge.description.video_tracks"><span class="option">-d</span>, <span class="option">--video-tracks</span>
                        <span class="parameter">[!]n,m,...</span></a></td>
                  <td>
                     
                     <p>
                        Копировать дорожки видео <span class="parameter">n</span>, <span class="parameter">m</span>
                        и так далее. Номера — это идентификаторы дорожек, которые можно узнать через
                        переключатель <a href="#mkvmerge.description.identify">--identify</a>.
                        Это не просто номера дорожек (см. раздел <a href="#mkvmerge.track_ids">идентификаторы дорожек</a>). По умолчанию:
                        копировать все дорожки видео.
                        
                     </p>
                     
                     
                     <p>
                        Вместо идентификаторов дорожек вы также можете предоставить коды языков ISO
                        639-2. Это будет работать только для исходных файлов, которые содержат
                        языковые теги для своих дорожек.
                        
                     </p>
                     
                     
                     <p>
                        Если идентификаторы имеют префикс <span class="literal">!</span>, то значение
                        меняется: копировать все дорожки этого типа, кроме тех, которые перечислены
                        после <span class="literal">!</span>.
                        
                     </p>
                     
                  </td>
               </tr>
               <tr>
                  <td class="varlistoption"><a name="mkvmerge.description.subtitle_tracks"><span class="option">-s</span>, <span class="option">--subtitle-tracks</span>
                        <span class="parameter">[!]n,m,...</span></a></td>
                  <td>
                     
                     <p>
                        Копировать дорожки субтитров <span class="parameter">n</span>,
                        <span class="parameter">m</span> и так далее. Номера — это идентификаторы дорожек,
                        которые можно узнать через переключатель <a href="#mkvmerge.description.identify">--identify</a>.
                        Это не просто номера дорожек (см. раздел <a href="#mkvmerge.track_ids">идентификаторы дорожек</a>). По умолчанию:
                        копировать все дорожки субтитров.
                        
                     </p>
                     
                     
                     <p>
                        Вместо идентификаторов дорожек вы также можете предоставить коды языков ISO
                        639-2. Это будет работать только для исходных файлов, которые содержат
                        языковые теги для своих дорожек.
                        
                     </p>
                     
                     
                     <p>
                        Если идентификаторы имеют префикс <span class="literal">!</span>, то значение
                        меняется: копировать все дорожки этого типа, кроме тех, которые перечислены
                        после <span class="literal">!</span>.
                        
                     </p>
                     
                  </td>
               </tr>
               <tr>
                  <td class="varlistoption"><a name="mkvmerge.description.button_tracks"><span class="option">-b</span>, <span class="option">--button-tracks</span>
                        <span class="parameter">[!]n,m,...</span></a></td>
                  <td>
                     
                     <p>
                        Копировать дорожки кнопок <span class="parameter">n</span>, <span class="parameter">m</span>
                        и так далее. Номера — это идентификаторы дорожек, которые можно узнать через
                        переключатель <span class="option">--identify</span>. Это не просто номера дорожек
                        (см. раздел <a href="#mkvmerge.track_ids">идентификаторы
                           дорожек</a>). По умолчанию: копировать все дорожки кнопок.
                        
                     </p>
                     
                     
                     <p>
                        Вместо идентификаторов дорожек вы также можете предоставить коды языков ISO
                        639-2. Это будет работать только для исходных файлов, которые содержат
                        языковые теги для своих дорожек.
                        
                     </p>
                     
                     
                     <p>
                        Если идентификаторы имеют префикс <span class="literal">!</span>, то значение
                        меняется: копировать все дорожки этого типа, кроме тех, которые перечислены
                        после <span class="literal">!</span>.
                        
                     </p>
                     
                  </td>
               </tr>
               <tr>
                  <td class="varlistoption"><a name="mkvmerge.description.track_tags"><span class="option">--track-tags</span>
                        <span class="parameter">[!]n,m,...</span></a></td>
                  <td>
                     
                     <p>
                        Копировать дорожки тегов <span class="parameter">n</span>, <span class="parameter">m</span>
                        и так далее. Номера — это идентификаторы дорожек, которые можно узнать через
                        переключатель <a href="#mkvmerge.description.identify">--identify</a>
                        (см. раздел <a href="#mkvmerge.track_ids">идентификаторы
                           дорожек</a>). Это не просто номера дорожек. По умолчанию: копировать все
                        дорожки тегов.
                        
                     </p>
                     
                     
                     <p>
                        Если идентификаторы имеют префикс <span class="literal">!</span>, то значение
                        разворачиваются: копировать всё кроме идентификаторов, перечисленных после
                        <span class="literal">!</span>.
                        
                     </p>
                     
                  </td>
               </tr>
               <tr>
                  <td class="varlistoption"><a name="mkvmerge.description.attachments"><span class="option">-m</span>, <span class="option">--attachments</span>
                        <span class="parameter">[!]n[:all|first],m[:all|first],...</span></a></td>
                  <td>
                     
                     <p>
                        Копирует вложения с идентификаторами <span class="parameter">n</span>,
                        <span class="parameter">m</span> и т. д. ко всем или только к первому выходному
                        файлу. За каждым идентификатором может следовать '<span class="literal">:all</span>'
                        (что по умолчанию, если ничего не указано) или
                        '<span class="literal">:first</span>'. Если разделение активно, то те вложения, чьи
                        идентификаторы указаны с помощью '<span class="literal">:all'</span>, копируются во
                        все исходные файлы, а другие копируются только в первый выходной файл. Если
                        разделение не активно, оба варианта имеют одинаковый эффект.
                        
                     </p>
                     
                     
                     <p>
                        По умолчанию копирует все вложения во все выходные файлы.
                        
                     </p>
                     
                     
                     <p>
                        Если идентификаторы имеют префикс <span class="literal">!</span>, то значение
                        разворачиваются: копировать всё кроме идентификаторов, перечисленных после
                        <span class="literal">!</span>.
                        
                     </p>
                     
                  </td>
               </tr>
               <tr>
                  <td class="varlistoption"><a name="mkvmerge.description.no_audio"><span class="option">-A</span>, <span class="option">--no-audio</span></a></td>
                  <td>
                     
                     <p>
                        Не копировать любые аудиодорожки из этого файла.
                        
                     </p>
                     
                  </td>
               </tr>
               <tr>
                  <td class="varlistoption"><a name="mkvmerge.description.no_video"><span class="option">-D</span>, <span class="option">--no-video</span></a></td>
                  <td>
                     
                     <p>
                        Не копировать любые видеодорожки из этого файла.
                        
                     </p>
                     
                  </td>
               </tr>
               <tr>
                  <td class="varlistoption"><a name="mkvmerge.description.no_subtitles"><span class="option">-S</span>, <span class="option">--no-subtitles</span></a></td>
                  <td>
                     
                     <p>
                        Не копировать любые субтитры из этого файла.
                        
                     </p>
                     
                  </td>
               </tr>
               <tr>
                  <td class="varlistoption"><a name="mkvmerge.description.no_buttons"><span class="option">-B</span>, <span class="option">--no-buttons</span></a></td>
                  <td>
                     
                     <p>
                        Не копировать любые дорожки кнопок из этого файла.
                        
                     </p>
                     
                  </td>
               </tr>
               <tr>
                  <td class="varlistoption"><a name="mkvmerge.description.no_track_tags"><span class="option">-T</span>, <span class="option">--no-track-tags</span></a></td>
                  <td>
                     
                     <p>
                        Не копировать любые теги дорожек из этого файла.
                        
                     </p>
                     
                  </td>
               </tr>
               <tr>
                  <td class="varlistoption"><a name="mkvmerge.description.no_chapters"><span class="option">--no-chapters</span></a></td>
                  <td>
                     
                     <p>
                        Не копировать главы из этого файла.
                        
                     </p>
                     
                  </td>
               </tr>
               <tr>
                  <td class="varlistoption"><a name="mkvmerge.description.no_attachments"><span class="option">-M</span>, <span class="option">--no-attachments</span></a></td>
                  <td>
                     
                     <p>
                        Не копировать вложения из этого файла.
                        
                     </p>
                     
                  </td>
               </tr>
               <tr>
                  <td class="varlistoption"><a name="mkvmerge.description.no_global_tags"><span class="option">--no-global-tags</span></a></td>
                  <td>
                     
                     <p>
                        Не копировать глобальные теги из этого файла.
                        
                     </p>
                     
                  </td>
               </tr>
               <tr>
                  <td class="varlistoption"><a name="mkvmerge.description.sync"><span class="option">-y</span>, <span class="option">--sync</span>
                        <span class="parameter">TID:d[,o[/p]]</span></a></td>
                  <td>
                     
                     <p>
                        Подстраивает временные метки дорожки с идентификатором
                        <span class="parameter">TID</span> на <span class="parameter">d</span>мс. Идентификаторы
                        дорожек являются теми же, как и те, которые предоставляются с <a href="#mkvmerge.description.identify">--identify</a>
                        (см. раздел <a href="#mkvmerge.track_ids">идентификаторы
                           дорожек</a>).
                        
                     </p>
                     
                     
                     <p>
                        <span class="parameter">o</span>/<span class="parameter">p</span>: поправка временных меток
                        с помощью <span class="parameter">o</span>/<span class="parameter">p</span>, чтобы исправить
                        линейные смещения. По умолчанию в случае пропуска <span class="parameter">p</span>
                        равно 1. И <span class="parameter">o</span> и <span class="parameter">p</span> могут быть
                        числами с плавающей запятой.
                        
                     </p>
                     
                     
                     <p>
                        По умолчанию: ручная коррекция синхронизации отключена (что равноценно
                        <span class="parameter">d</span> = <span class="constant">0</span> и
                        <span class="parameter">o</span>/<span class="parameter">p</span> =
                        <span class="constant">1.0</span>).
                        
                     </p>
                     
                     
                     <p>
                        Этот параметр можно использовать несколько раз для входного файла,
                        применяемого к нескольким дорожкам, с указанием разных идентификаторов
                        дорожек.
                        
                     </p>
                     
                  </td>
               </tr>
               <tr>
                  <td class="varlistoption"><a name="mkvmerge.description.cues"><span class="option">--cues</span> <span class="parameter">TID:none|iframes|all</span></a></td>
                  <td>
                     
                     <p>
                        Элементы управления, для которых записи списка CUE (индекса) дорожки,
                        создаются для данной дорожки (см. раздел <a href="#mkvmerge.track_ids">идентификаторы
                           дорожек</a>). '<span class="literal">none</span>' предотвращает создание записей
                        списка cue. Для '<span class="literal">iframes</span>' только блоки без ссылок назад
                        или вперед (= I-кадры в видео дорожках) помещаются в список
                        cue. '<span class="literal">all</span>' заставляет <span class="productname">mkvmerge</span>(1) создавать записи cue для
                        всех блоков, что делает файл очень большим.
                        
                     </p>
                     
                     
                     <p>
                        По умолчанию — «<span class="literal">iframes</span>» для дорожек видео и субтитров и
                        «<span class="literal">none</span>» для звуковых дорожек. Смотрите также параметр
                        <a href="#mkvmerge.description.no_cues">--no-cues</a>,
                        который препятствует созданию записей cue, независимо от используемых
                        параметров <span class="option">--cues</span>.
                        
                     </p>
                     
                     
                     <p>
                        Этот параметр можно использовать несколько раз для входного файла,
                        применяемого к нескольким дорожкам, с указанием разных идентификаторов
                        дорожек.
                        
                     </p>
                     
                  </td>
               </tr>
               <tr>
                  <td class="varlistoption"><a name="mkvmerge.description.default_track_flag"><span class="option">--default-track-flag</span>
                        <span class="parameter">TID[:bool]</span></a></td>
                  <td>
                     
                     <p>
                        Устанавливает флаг «дорожка по умолчанию» для данной дорожки (см. раздел
                        <a href="#mkvmerge.track_ids">идентификаторы дорожек</a>), если
                        необязательный аргумент <span class="parameter">bool</span> равен
                        <span class="constant">1</span> либо отсутствует. Флаг будет установлен, если
                        исходный контейнер не предоставил эту информацию, и пользователь не указал
                        её с помощью этого параметра.
                        
                     </p>
                     
                     
                     <p>
                        Если пользователь явно не выбирает дорожку во время воспроизведения,
                        проигрыватель должен выбрать одну из дорожек, для которой установлен флаг
                        «дорожка по умолчанию», учитывая, например, такие предпочтения пользователя,
                        как язык.
                        
                     </p>
                     
                     
                     <p>
                        Этот параметр можно использовать несколько раз для входного файла,
                        применяемого к нескольким дорожкам, с указанием разных идентификаторов
                        дорожек.
                        
                     </p>
                     
                  </td>
               </tr>
               <tr>
                  <td class="varlistoption"><a name="mkvmerge.description.track_enabled_flag"><span class="option">--track-enabled-flag</span>
                        <span class="parameter">TID[:bool]</span></a></td>
                  <td>
                     
                     <p>
                        Устанавливает флаг «дорожка включена» для данной дорожки (см. раздел <a href="#mkvmerge.track_ids">идентификаторы дорожек</a>) в указанное
                        значение <span class="parameter">bool</span> (0 или 1, по умолчанию равно 1, если не
                        указано). Дорожки включены по умолчанию, если для них не задан параметр, и
                        исходный контейнер также не предоставляет эту информацию.
                        
                     </p>
                     
                     
                     <p>
                        Для воспроизведения следует рассматривать только дорожки, для которых
                        установлен флаг «дорожка включена».
                        
                     </p>
                     
                     
                     <p>
                        Этот параметр можно использовать несколько раз для входного файла,
                        применяемого к нескольким дорожкам, с указанием разных идентификаторов
                        дорожек.
                        
                     </p>
                     
                  </td>
               </tr>
               <tr>
                  <td class="varlistoption"><a name="mkvmerge.description.forced_display_flag"><span class="option">--forced-display-flag</span>
                        <span class="parameter">TID[:bool]</span></a></td>
                  <td>
                     
                     <p>
                        Устанавливает флаг «принудительное отображение» для данной дорожки
                        (см. раздел <a href="#mkvmerge.track_ids">идентификаторы
                           дорожек</a>), если необязательный аргумент <span class="parameter">bool</span>
                        равен <span class="constant">1</span> либо отсутствует. Используйте его для дорожек,
                        содержащих экранный текст или диалог на иностранном языке.
                        
                     </p>
                     
                     
                     <p>
                        Этот параметр можно использовать несколько раз для входного файла,
                        применяемого к нескольким дорожкам, с указанием разных идентификаторов
                        дорожек.
                        
                     </p>
                     
                  </td>
               </tr>
               <tr>
                  <td class="varlistoption"><a name="mkvmerge.description.hearing_impaired_flag"><span class="option">--hearing-impaired-flag</span>
                        <span class="parameter">TID[:bool]</span></a></td>
                  <td>
                     
                     <p>
                        Устанавливает флаг «нарушение слуха» для данной дорожки (см. раздел <a href="#mkvmerge.track_ids">идентификаторы дорожек</a>), если
                        необязательный аргумент <span class="parameter">bool</span> равен
                        <span class="constant">1</span> либо отсутствует. Этот флаг может быть установлен,
                        если дорожка подходит для пользователей с нарушениями слуха.
                        
                     </p>
                     
                     
                     <p>
                        Этот параметр можно использовать несколько раз для входного файла,
                        применяемого к нескольким дорожкам, с указанием разных идентификаторов
                        дорожек.
                        
                     </p>
                     
                  </td>
               </tr>
               <tr>
                  <td class="varlistoption"><a name="mkvmerge.description.visual_impaired_flag"><span class="option">--visual-impaired-flag</span>
                        <span class="parameter">TID[:bool]</span></a></td>
                  <td>
                     
                     <p>
                        Устанавливает флаг «слабовидящие» для данной дорожки (см. раздел <a href="#mkvmerge.track_ids">идентификаторы дорожек</a>), если
                        необязательный аргумент <span class="parameter">bool</span> равен
                        <span class="constant">1</span> либо отсутствует. Этот флаг может быть установлен,
                        если дорожка подходит для пользователей с нарушениями зрения.
                        
                     </p>
                     
                     
                     <p>
                        Этот параметр можно использовать несколько раз для входного файла,
                        применяемого к нескольким дорожкам, с указанием разных идентификаторов
                        дорожек.
                        
                     </p>
                     
                  </td>
               </tr>
               <tr>
                  <td class="varlistoption"><a name="mkvmerge.description.text_descriptions_flag"><span class="option">--text-descriptions-flag</span>
                        <span class="parameter">TID[:bool]</span></a></td>
                  <td>
                     
                     <p>
                        Устанавливает флаг «текстовые описания» для данной дорожки (см. раздел <a href="#mkvmerge.track_ids">идентификаторы дорожек</a>), если
                        необязательный аргумент <span class="parameter">bool</span> равен
                        <span class="constant">1</span> либо отсутствует. Этот флаг может быть установлен,
                        если дорожка содержит текстовые описания видеоматериала, пригодного для
                        воспроизведения через систему преобразования текста в речь для слабовидящих
                        пользователей.
                        
                     </p>
                     
                     
                     <p>
                        Этот параметр можно использовать несколько раз для входного файла,
                        применяемого к нескольким дорожкам, с указанием разных идентификаторов
                        дорожек.
                        
                     </p>
                     
                  </td>
               </tr>
               <tr>
                  <td class="varlistoption"><a name="mkvmerge.description.original_flag"><span class="option">--original-flag</span>
                        <span class="parameter">TID[:bool]</span></a></td>
                  <td>
                     
                     <p>
                        Устанавливает флаг «исходный язык» для данной дорожки (см. раздел <a href="#mkvmerge.track_ids">идентификаторы дорожек</a>), если
                        необязательный аргумент <span class="parameter">bool</span> равен
                        <span class="constant">1</span> либо отсутствует. Этот флаг может быть установлен,
                        если дорожка на языке оригинала содержимого (не является переводом).
                        
                     </p>
                     
                     
                     <p>
                        Этот параметр можно использовать несколько раз для входного файла,
                        применяемого к нескольким дорожкам, с указанием разных идентификаторов
                        дорожек.
                        
                     </p>
                     
                  </td>
               </tr>
               <tr>
                  <td class="varlistoption"><a name="mkvmerge.description.commentary_flag"><span class="option">--commentary-flag</span>
                        <span class="parameter">TID[:bool]</span></a></td>
                  <td>
                     
                     <p>
                        Устанавливает флаг «комментарии» для данной дорожки (см. раздел <a href="#mkvmerge.track_ids">идентификаторы дорожек</a>), если
                        необязательный аргумент <span class="parameter">bool</span> равен
                        <span class="constant">1</span> либо отсутствует. Этот флаг может быть установлен,
                        если трек содержит комментарии.
                        
                     </p>
                     
                     
                     <p>
                        Этот параметр можно использовать несколько раз для входного файла,
                        применяемого к нескольким дорожкам, с указанием разных идентификаторов
                        дорожек.
                        
                     </p>
                     
                  </td>
               </tr>
               <tr>
                  <td class="varlistoption"><a name="mkvmerge.description.track_name"><span class="option">--track-name</span> <span class="parameter">TID:имя</span></a></td>
                  <td>
                     
                     <p>
                        Указывает имя для выбранной дорожки (см. раздел <a href="#mkvmerge.track_ids">Идентификаторы дорожек</a>) равным
                        <span class="parameter">name</span>.
                        
                     </p>
                     
                  </td>
               </tr>
               <tr>
                  <td class="varlistoption"><a name="mkvmerge.description.language"><span class="option">--language</span> <span class="parameter">TID:язык</span></a></td>
                  <td>
                     
                     <p>
                        Устанавливает язык для данной дорожки (см. раздел <a href="#mkvmerge.track_ids">идентификаторы дорожек</a>). Разрешены как
                        коды языков ISO 639-2, так и коды стран ISO 639-1. Коды стран будут
                        автоматически преобразованы в коды языков. Все языки, включая их коды ISO
                        639-2, можно указать с помощью параметра <a href="#mkvmerge.description.list_languages">--list-languages</a>.
                        
                     </p>
                     
                     
                     <p>
                        Этот параметр можно использовать несколько раз для входного файла,
                        применяемого к нескольким дорожкам, с указанием разных идентификаторов
                        дорожек.
                        
                     </p>
                     
                  </td>
               </tr>
               <tr>
                  <td class="varlistoption"><a name="mkvmerge.description.tags"><span class="option">-t</span>, <span class="option">--tags</span>
                        <span class="parameter">TID:имя-файла</span></a></td>
                  <td>
                     
                     <p>
                        Читает теги для дорожки с номером <span class="parameter">TID</span> из файла
                        <span class="parameter">имя-файла</span>. Подробности смотрите в разделе о <a href="#mkvmerge.tags">теги</a> ниже.
                        
                     </p>
                     
                  </td>
               </tr>
               <tr>
                  <td class="varlistoption"><a name="mkvmerge.description.aac_is_sbr"><span class="option">--aac-is-sbr</span>
                        <span class="parameter">TID[:0|1]</span></a></td>
                  <td>
                     
                     <p>
                        Сообщает <span class="productname">mkvmerge</span>(1), что трек с ID <span class="parameter">TID</span> — <span class="abbrev">SBR
                           AAC</span> (также известный как <span class="abbrev">HE-AAC</span> или
                        <span class="abbrev">AAC+</span>). Эти параметры необходимы, если а) исходный файл
                        является файлом <span class="abbrev">ААС</span> (<em>не</em> файл
                        <span class="productname">Matroska</span><sup>(tm)</sup>) и б) файл <span class="abbrev">AAC</span> содержит данные <span class="abbrev">SBR
                           AAC</span>. Причина этого переключателя в том, что технически невозможно
                        автоматически идентифицировать нормальные данные <span class="abbrev">AAC</span> из
                        данных <span class="abbrev">SBR AAC</span> без декодирования полного кадра
                        <span class="abbrev">AAC</span>. Поскольку существует несколько патентных проблем с
                        декодерами <span class="abbrev">AAC</span> <span class="productname">mkvmerge</span>(1) никогда не будет содержать
                        декодирования. Поэтому для файлов <span class="abbrev">SBR AAC</span> этот
                        переключатель является обязательным. Полученный файл может не
                        воспроизводиться должным образом или даже не воспроизводиться вообще, если
                        переключатель был пропущен.
                        
                     </p>
                     
                     
                     <p>
                        Если исходным файлом является файл <span class="productname">Matroska</span><sup>(tm)</sup>, то
                        <span class="classname">CodecID</span> должно быть достаточно для обнаружения
                        <span class="abbrev">SBR AAC</span>. Однако, если CodecID неправильный, то этот
                        переключатель можно использовать, чтобы исправить его.
                        
                     </p>
                     
                     
                     <p>
                        Если mkvmerge неверно определяет файл <span class="abbrev">AAC</span> в виде
                        <span class="abbrev">SBR</span>, то вы можете добавить '<span class="literal">:0</span>' к
                        идентификатору дорожки.
                        
                     </p>
                     
                  </td>
               </tr>
               <tr>
                  <td class="varlistoption"><a name="mkvmerge.description.audio_emphasis"><span class="option">--audio-emphasis</span> <span class="parameter">TID:n|symbolic-name</span></a></td>
                  <td>
                     
                     <p>
                        Задаёт акцент для звуковой дорожки с помощью идентификатора дорожки
                        <span class="parameter">TID</span>. Режим может быть либо числом
                        <span class="parameter">n</span> (определённые значения от <span class="constant">0</span> до
                        <span class="constant">16</span>) или символьным именем. Все допустимые номера и
                        символьные имена могут быть перечислены с помощью <a href="#mkvmerge.description.list_audio_emphasis">параметра
                           --list-audio-accession</a>.
                        
                     </p>
                     
                  </td>
               </tr>
               <tr>
                  <td class="varlistoption"><a name="mkvmerge.description.reduce_to_core"><span class="option">--reduce-to-core</span> <span class="parameter">TID</span></a></td>
                  <td>
                     
                     <p>
                        Некоторые аудиокодеки имеют ядро с потерями и дополнительные расширения,
                        которые реализуют декодирование без потерь. Этот параметр сообщает
                        <span class="productname">mkvmerge</span>(1) копировать только ядро, но не расширение. По умолчанию <span class="productname">mkvmerge</span>(1)
                        копирует как ядро, так и расширение.
                        
                     </p>
                     
                     
                     <p>
                        В настоящее время этот параметр влияет только на дорожки
                        <span class="abbrev">DTS</span>. Дорожки TrueHD, которые содержат встроенное ядро
                        <span class="abbrev">AC-3</span>, вместо этого представлены как две отдельные дорожки,
                        для которых пользователь может выбрать, какую дорожку копировать. Для
                        <span class="abbrev">DTS</span> такая схема не будет работать, потому что расширения HD
                        не могут быть декодированы сами по себе – в отличие от данных TrueHD.
                        
                     </p>
                     
                  </td>
               </tr>
               <tr>
                  <td class="varlistoption"><a name="mkvmerge.description.remove_dialog_normalization_gain"><span class="option">--remove-dialog-normalization-gain</span>
                        <span class="parameter">TID</span></a></td>
                  <td>
                     
                     <p>
                        Некоторые кодеки аудио содержат поля заголовка, которые указывают декодеру
                        или проигрывателю применить усиление для нормализации диалога (обычно
                        отрицательное). Этот параметр сообщает <span class="productname">mkvmerge</span>(1) удалить или минимизировать
                        это усиление (gain), изменив соответствующие поля заголовка.
                        
                     </p>
                     
                     
                     <p>
                        На данный момент этот параметр влияет только на дорожки
                        <span class="abbrev">AC-3</span>, <span class="abbrev">DTS</span> и <span class="abbrev">TrueHD</span>.
                        
                     </p>
                     
                  </td>
               </tr>
               <tr>
                  <td class="varlistoption"><a name="mkvmerge.description.timestamps"><span class="option">--timestamps</span> <span class="parameter">TID:имя-файла</span></a></td>
                  <td>
                     
                     <p>
                        Читает метки времени, которые будут использоваться для определённого
                        идентификатора дорожки с <span class="parameter">file-name</span>. Эти метки времени
                        принудительно заменяют метки времени, которые <span class="productname">mkvmerge</span>(1) рассчитывает
                        обычно. Прочитайте раздел о <a href="#mkvmerge.external_timestamp_files">внешних файлах меток
                           времени</a>.
                        
                     </p>
                     
                  </td>
               </tr>
               <tr>
                  <td class="varlistoption"><a name="mkvmerge.description.default_duration"><span class="option">--default-duration</span> <span class="parameter">TID:x</span></a></td>
                  <td>
                     
                     <p>
                        Принудительно устанавливает длительность заданной дорожки по умолчанию до
                        указанного значения. Также изменяет метки времени дорожки, чтобы
                        соответствовать длительности по умолчанию. Аргумент <span class="parameter">x</span>
                        должен иметь один из постфиксов '<span class="literal">s</span>',
                        '<span class="literal">ms</span>', '<span class="literal">us</span>', '<span class="literal">ns</span>',
                        '<span class="literal">fps</span>', '<span class="literal">p</span>' или '<span class="literal">i</span>',
                        чтобы указать длительность по умолчанию в секундах, миллисекундах,
                        микросекундах, наносекундах, «кадрах в секунду», «прогрессивных кадрах в
                        секунду» или «чересстрочных кадрах в секунду» соответственно. Число
                        <span class="parameter">x</span> может быть числом с плавающей запятой или дробью.
                        
                     </p>
                     
                     
                     <p>
                        Если длительность по умолчанию не является принудительной, mkvmerge
                        попытается получить длительность дорожки по умолчанию из контейнера и/или
                        закодированного битового потока для определённых типов дорожек, например,
                        AVC/H.264 или MPEG-2.
                        
                     </p>
                     
                     
                     <p>
                        Этот параметр также может быть использован для изменения <span class="abbrev">частоты
                           кадров</span> видеодорожек без необходимости использования внешнего файла
                        временных меток.
                        
                     </p>
                     
                  </td>
               </tr>
               <tr>
                  <td class="varlistoption"><a name="mkvmerge.description.fix_bitstream_timing_information"><span class="option">--fix-bitstream-timing-information</span>
                        <span class="parameter">TID[:0|1]</span></a></td>
                  <td>
                     
                     <p>
                        Обычно <span class="productname">mkvmerge</span>(1) не изменяет информацию о времени (скорость кадров/полей),
                        хранящуюся в битовом потоке видео. С помощью этого параметра эта информация
                        корректируется в соответствии с информацией о времени из
                        контейнера. Информация о времени из контейнера может поступать из разных
                        источников: из командной строки (см. параметр <a href="#mkvmerge.description.default_duration">--default-duration</a>),
                        исходного контейнера или производного от битового потока.
                        
                     </p>
                     
                     
                     <div class="note">
                        <p class="note-title">Note:</p>
                        
                        <p>Это было реализовано только для видеодорожек AVC/H.264.</p>
                        
                     </div>
                     
                  </td>
               </tr>
               <tr>
                  <td class="varlistoption"><a name="mkvmerge.description.compression"><span class="option">--compression</span> <span class="parameter">TID:n</span></a></td>
                  <td>
                     
                     <p>
                        Выбирает метод сжатия, который будет использоваться для дорожки. Обратите
                        внимание, что плеер также должен поддерживать этот метод. Допустимые
                        значения: «<span class="literal">none</span>», «<span class="literal">zlib</span>» и
                        «<span class="literal">mpeg4_p2</span>»/«<span class="literal">mpeg4p2</span>».
                        
                     </p>
                     
                     <p>
                        Метод сжатия «<span class="literal">mpeg4_p2</span>»/«<span class="literal">mpeg4p2</span>»
                        является специальным методом сжатия, который называется «удаление заголовка»
                        и доступен только для видеодорожек <span class="abbrev">MPEG4</span> part 2.
                        
                     </p>
                     
                     <p>
                        По умолчанию для некоторых типов субтитров используется сжатие
                        «<span class="literal">zlib</span>». Этот метод сжатия поддерживает большинство, если
                        не все программы воспроизведения. Поддержка других методов сжатия, кроме
                        «<span class="literal">none</span>», не гарантируется.
                        
                     </p>
                     
                  </td>
               </tr>
            </tbody>
         </table>
         
         
         
         <h2><a name="d4e3749">2.8. Параметры, применяемые только к видеодорожкам</a></h2>
         
         
         
         <table class="variablelist">
            <thead>
               <tr>
                  <th>Option</th>
                  <th>Description</th>
               </tr>
            </thead>
            <tbody>
               <tr>
                  <td class="varlistoption"><a name="mkvmerge.description.fourcc"><span class="option">-f</span>, <span class="option">--fourcc</span>
                        <span class="parameter">TID:FourCC</span></a></td>
                  <td>
                     
                     <p>
                        Принудительно указывает заданное значение для
                        <span class="classname">FourCC</span>. Работает только для дорожек видео в режиме
                        "MS compatibility mode".
                        
                     </p>
                     
                  </td>
               </tr>
               <tr>
                  <td class="varlistoption"><a name="mkvmerge.description.display_dimensions"><span class="option">--display-dimensions</span>
                        <span class="parameter">TID:widthxheight</span></a></td>
                  <td>
                     
                     <p>
                        Файлы <span class="productname">Matroska</span><sup>(tm)</sup> содержат два значения, устанавливающие свойства
                        отображения, к которым проигрыватель должен масштабировать изображение во
                        время воспроизведения: ширина и высота экрана. Эти значения можно установить
                        с помощью этого параметра, напр., «<span class="literal">1:640x480</span>».
                        
                     </p>
                     
                     
                     <p>
                        Другим способом указания значений является использование параметра <a href="#mkvmerge.description.aspect_ratio">--aspect-ratio</a>
                        или <a href="#mkvmerge.description.aspect_ratio_factor">--aspect-ratio-factor</a>
                        (см. ниже). Эти параметры являются взаимоисключающими.
                        
                     </p>
                     
                  </td>
               </tr>
               <tr>
                  <td class="varlistoption"><a name="mkvmerge.description.aspect_ratio"><span class="option">--aspect-ratio</span>
                        <span class="parameter">TID:ratio|width/height</span></a></td>
                  <td>
                     
                     <p>
                        Файлы <span class="productname">Matroska</span><sup>(tm)</sup> содержат два значения, которые устанавливают свойства
                        отображения, до которых проигрыватель должен масштабировать изображение во
                        время воспроизведения: ширина и высота изображения. С помощью этого
                        параметра <span class="productname">mkvmerge</span>(1) автоматически вычислит ширину и высоту изображения на
                        основе исходной ширины и высоты изображения и соотношения сторон, заданного
                        с помощью этого параметра. Коэффициент можно указать либо в виде
                        <span class="parameter">отношения</span> чисел с плавающей запятой, либо в виде
                        дроби '<span class="parameter">ширина</span>/<span class="parameter">высота</span>',
                        например '<span class="literal">16/9'</span>.
                        
                     </p>
                     
                     
                     <p>
                        Другим способом указать значения является использование параметров <a href="#mkvmerge.description.aspect_ratio_factor">--aspect-ratio-factor</a>
                        или <a href="#mkvmerge.description.display_dimensions">--display-dimensions</a>
                        (см. выше и ниже). Эти параметры являются взаимоисключающими.
                        
                     </p>
                     
                  </td>
               </tr>
               <tr>
                  <td class="varlistoption"><a name="mkvmerge.description.aspect_ratio_factor"><span class="option">--aspect-ratio-factor</span> <span class="parameter">TID:factor|n/d</span></a></td>
                  <td>
                     
                     <p>
                        Другой способ установить соотношение сторон — это указать
                        <span class="parameter">коэффициент</span>. Исходное соотношение сторон сначала
                        умножается на этот <span class="parameter">коэффициент</span>, а затем используется
                        как целевое соотношение сторон.
                        
                     </p>
                     
                     
                     <p>
                        Другим способом указать значения является использование параметров <a href="#mkvmerge.description.aspect_ratio_factor">--aspect-ratio</a>
                        или <a href="#mkvmerge.description.display_dimensions">--display-dimensions</a>
                        (см. выше и ниже). Эти параметры являются взаимоисключающими.
                        
                     </p>
                     
                  </td>
               </tr>
               <tr>
                  <td class="varlistoption"><a name="mkvmerge.description.cropping"><span class="option">--cropping</span>
                        <span class="parameter">TID:слева,сверху,справа,снизу</span></a></td>
                  <td>
                     
                     <p>
                        Указывает значения обрезки пикселей для видеодорожки.
                        
                     </p>
                     
                  </td>
               </tr>
               <tr>
                  <td class="varlistoption"><a name="mkvmerge.description.color_matrix_coefficients"><span class="option">--color-matrix-coefficients</span> <span class="parameter">TID:n</span></a></td>
                  <td>
                     
                     <p>
                        Устанавливает матричные коэффициенты видео, которые используются для
                        получения значений яркости и цветности на основе основных цветов красного,
                        зелёного и синего. Параметр <span class="parameter">n</span> является целым числом
                        от <span class="constant">0</span> до <span class="constant">10</span>.
                        
                     </p>
                     
                     
                     <p>
                        Допустимые значения и их расшифровка:
                        
                     </p>
                     
                     
                     <p>
                        <span class="constant">0</span>: GBR, <span class="constant">1</span>: BT709,
                        <span class="constant">2</span>: unspecified, <span class="constant">3</span>: reserved,
                        <span class="constant">4</span>: FCC, <span class="constant">5</span>: BT470BG,
                        <span class="constant">6</span>: SMPTE 170M, <span class="constant">7</span>: SMPTE 240M,
                        <span class="constant">8</span>: YCOCG, <span class="constant">9</span>: BT2020 non-constant
                        luminance, <span class="constant">10</span>: BT2020 constant luminance
                        
                     </p>
                     
                  </td>
               </tr>
               <tr>
                  <td class="varlistoption"><a name="mkvmerge.description.color_bits_per_channel"><span class="option">--color-bits-per-channel</span> <span class="parameter">TID:n</span></a></td>
                  <td>
                     
                     <p>
                        Указывает число кодированных битов для канала цвета. Значение
                        <span class="constant">0</span> показывает, что число битов не указано.
                        
                     </p>
                     
                  </td>
               </tr>
               <tr>
                  <td class="varlistoption"><a name="mkvmerge.description.chroma_subsample"><span class="option">--chroma-subsample</span> <span class="parameter">TID:hori,vert</span></a></td>
                  <td>
                     
                     <p>
                        Количество пикселей, предназначенных для удаления в каналах Cr и Cb для
                        каждого неудалённого пикселя по горизонтали/вертикали.
                        
                     </p>
                     
                     
                     <p>
                        Пример: Для видео с цветовая субдискретизация 4:2:0 следует указать параметр
                        <span class="code"><span class="parameter">TID</span>:<span class="constant">1</span>,<span class="constant">1</span></span>.
                        
                     </p>
                     
                  </td>
               </tr>
               <tr>
                  <td class="varlistoption"><a name="mkvmerge.description.cb_subsample"><span class="option">--cb-subsample</span> <span class="parameter">TID:hori,vert</span></a></td>
                  <td>
                     
                     <p>
                        Количество пикселей, предназначенных для удаления в канале Cb для каждого
                        неудалённого пикселя по горизонтали. Это добавка к
                        <span class="option">--chroma-subsample</span>.
                        
                     </p>
                     
                     
                     <p>
                        Пример: для видео с цветовой субдискретизацией 4:2:1, параметр
                        <span class="option">--chroma-subsample</span> должен быть установлен до
                        <span class="code"><span class="parameter">TID</span>:<span class="constant">1</span>,<span class="constant">0</span></span>
                        и подвыборка Cb должна быть установлена до
                        <span class="code"><span class="parameter">TID</span>:<span class="constant">1</span>,<span class="constant">0</span></span>.
                        
                     </p>
                     
                  </td>
               </tr>
               <tr>
                  <td class="varlistoption"><a name="mkvmerge.description.chroma_siting"><span class="option">--chroma-siting</span> <span class="parameter">TID:hori,vert</span></a></td>
                  <td>
                     
                     <p>
                        Устанавливает то, как цветность располагается по горизонтали/вертикали
                        (<span class="constant">0</span>: не указано, <span class="constant">1</span>: сверху
                        совмещённо, <span class="constant">2</span>: наполовину).
                        
                     </p>
                     
                  </td>
               </tr>
               <tr>
                  <td class="varlistoption"><a name="mkvmerge.description.color_range"><span class="option">--color-range</span> <span class="parameter">TID:n</span></a></td>
                  <td>
                     
                     <p>
                        Устанавливает отсечение диапазонов цвета (<span class="constant">0</span>:
                        неопределено, <span class="constant">1</span>: диапазон трансляции,
                        <span class="constant">2</span>: полный диапазон (без отсечения),
                        <span class="constant">3</span>: задан через
                        MatrixCoefficients/TransferCharacteristics).
                        
                     </p>
                     
                  </td>
               </tr>
               <tr>
                  <td class="varlistoption"><a name="mkvmerge.description.color_transfer_characteristics"><span class="option">--color-transfer-characteristics</span>
                        <span class="parameter">TID:n</span></a></td>
                  <td>
                     
                     <p>
                        Характеристики передачи видео.
                        
                     </p>
                     
                     
                     <p>
                        Допустимые значения и их расшифровка:
                        
                     </p>
                     
                     
                     <p>
                        <span class="constant">0</span>: reserved, <span class="constant">1</span>: ITU-R BT.709,
                        <span class="constant">2</span>: unspecified, <span class="constant">3</span>: reserved,
                        <span class="constant">4</span>: gamma 2.2 curve, <span class="constant">5</span>: gamma 2.8
                        curve, <span class="constant">6</span>: SMPTE 170M, <span class="constant">7</span>: SMPTE
                        240M, <span class="constant">8</span>: linear, <span class="constant">9</span>: log,
                        <span class="constant">10</span>: log sqrt, <span class="constant">11</span>: IEC 61966-2-4,
                        <span class="constant">12</span>: ITU-R BT.1361 extended color gamut,
                        <span class="constant">13</span>: IEC 61966-2-1, <span class="constant">14</span>: ITU-R
                        BT.2020 10 bit, <span class="constant">15</span>: ITU-R BT.2020 12 bit,
                        <span class="constant">16</span>: SMPTE ST 2084, <span class="constant">17</span>: SMPTE ST
                        428-1; <span class="constant">18</span>: ARIB STD-B67 (HLG)
                        
                     </p>
                     
                  </td>
               </tr>
               <tr>
                  <td class="varlistoption"><a name="mkvmerge.description.color_primaries"><span class="option">--color-primaries</span> <span class="parameter">TID:n</span></a></td>
                  <td>
                     
                     <p>
                        Устанавливает базовые цвета видео.
                        
                     </p>
                     
                     
                     <p>
                        Допустимые значения и их расшифровка:
                        
                     </p>
                     
                     
                     <p>
                        <span class="constant">0</span>: reserved, <span class="constant">1</span>: ITU-R BT.709,
                        <span class="constant">2</span>: unspecified, <span class="constant">3</span>: reserved,
                        <span class="constant">4</span>: ITU-R BT.470M, <span class="constant">5</span>: ITU-R
                        BT.470BG, <span class="constant">6</span>: SMPTE 170M, <span class="constant">7</span>: SMPTE
                        240M, <span class="constant">8</span>: FILM, <span class="constant">9</span>: ITU-R BT.2020,
                        <span class="constant">10</span>: SMPTE ST 428-1, <span class="constant">22</span>: JEDEC P22
                        phosphors
                        
                     </p>
                     
                  </td>
               </tr>
               <tr>
                  <td class="varlistoption"><a name="mkvmerge.description.max_content_light"><span class="option">--max-content-light</span> <span class="parameter">TID:n</span></a></td>
                  <td>
                     
                     <p>
                        Устанавливает максимальную яркость одного пикселя (Maximum Content Light
                        Level) в канделах на квадратный метр (кд/м2). Значение
                        <span class="parameter">n</span> должно быть целым неотрицательным числом.
                        
                     </p>
                     
                  </td>
               </tr>
               <tr>
                  <td class="varlistoption"><a name="mkvmerge.description.max_frame_light"><span class="option">--max-frame-light</span> <span class="parameter">TID:n</span></a></td>
                  <td>
                     
                     <p>
                        Устанавливает максимальную яркость одного полного кадра (Maximum
                        Frame-Average Light Level) в канделах на квадратный метр (кд/м2). Значение
                        <span class="parameter">n</span> должно быть целым неотрицательным числом.
                        
                     </p>
                     
                  </td>
               </tr>
               <tr>
                  <td class="varlistoption"><a name="mkvmerge.description.chromaticity_coordinates"><span class="option">--chromaticity-coordinates</span>
                        <span class="parameter">TID:red-x,red-y,green-x,green-y,blue-x,blue-y</span></a></td>
                  <td>
                     
                     <p>
                        Указывает координату цветности красного/зелёного/синего цвета, как
                        определено в CIE 1931.
                        
                     </p>
                     
                  </td>
               </tr>
               <tr>
                  <td class="varlistoption"><a name="mkvmerge.description.white_color_coordinates"><span class="option">--white-color-coordinates</span> <span class="parameter">TID:x,y</span></a></td>
                  <td>
                     
                     <p>
                        Указывает координату цветности белого цвета, как определено в CIE 1931.
                        
                     </p>
                     
                  </td>
               </tr>
               <tr>
                  <td class="varlistoption"><a name="mkvmerge.description.max_luminance"><span class="option">--max-luminance</span> <span class="parameter">TID:float</span></a></td>
                  <td>
                     
                     <p>
                        Устанавливает максимальную яркость в канделах на квадратный метр
                        (кд/м2). Значение должно быть меньше 9999,99.
                        
                     </p>
                     
                  </td>
               </tr>
               <tr>
                  <td class="varlistoption"><a name="mkvmerge.description.min_luminance"><span class="option">--min-luminance</span> <span class="parameter">TID:float</span></a></td>
                  <td>
                     
                     <p>
                        Устанавливает минимальную яркость в канделах на квадратный метр
                        (кд/м²). Значение должно быть меньше чем 999,99.
                        
                     </p>
                     
                  </td>
               </tr>
               <tr>
                  <td class="varlistoption"><a name="mkvmerge.description.projection_type"><span class="option">--projection-type</span> <span class="parameter">TID:method</span></a></td>
                  <td>
                     
                     <p>
                        Устанавливает используемый метод проекции видео. Допустимые значения: 0
                        (прямоугольная проекция), 1 (равноугольная проекция), 2 (проекция кубической
                        карты) и 3 (проекция сетки).
                        
                     </p>
                     
                  </td>
               </tr>
               <tr>
                  <td class="varlistoption"><a name="mkvmerge.description.projection_private"><span class="option">--projection-private</span> <span class="parameter">TID:данные</span></a></td>
                  <td>
                     
                     <p>
                        Устанавливает частные данные, которые применяются только к определённой
                        проекции. Данные должны быть представлены в виде шестнадцатеричных чисел с
                        префиксом «0x» или без него, с пробелами или без них.
                        
                     </p>
                     
                  </td>
               </tr>
               <tr>
                  <td class="varlistoption"><a name="mkvmerge.description.projection_pose_yaw"><span class="option">--projection-pose-yaw</span> <span class="parameter">TID:float</span></a></td>
                  <td>
                     
                     <p>
                        Определяет параметры поворота проекции вокруг перпендикулярной оси.
                        
                     </p>
                     
                  </td>
               </tr>
               <tr>
                  <td class="varlistoption"><a name="mkvmerge.description.projection_pose_pitch"><span class="option">--projection-pose-pitch</span> <span class="parameter">TID:float</span></a></td>
                  <td>
                     
                     <p>
                        Определяет параметры поворота проекции вокруг поперечной оси.
                        
                     </p>
                     
                  </td>
               </tr>
               <tr>
                  <td class="varlistoption"><a name="mkvmerge.description.projection_pose_roll"><span class="option">--projection-pose-roll</span> <span class="parameter">TID:float</span></a></td>
                  <td>
                     
                     <p>
                        Определяет параметры поворота проекции вокруг продольной оси.
                        
                     </p>
                     
                  </td>
               </tr>
               <tr>
                  <td class="varlistoption"><a name="mkvmerge.description.field_order"><span class="option">--field-order</span> <span class="parameter">TID:n</span></a></td>
                  <td>
                     
                     <p>
                        Задаёт порядок полей в дорожке видео с идентификатором
                        <span class="parameter">TID</span>. Порядок должен быть указан одним из следующих
                        номеров:
                        
                     </p>
                     
                     
                     <p>
                        <span class="constant">0</span>: прогрессивный; <span class="constant">1</span>: чересстрочный
                        с отображением верхнего поля первым, первым сохраняется верхнее поле;
                        <span class="constant">2</span>: неопределённый порядок полей;
                        <span class="constant">6</span>: чересстрочный с отображением нижнего поля первым,
                        первым сохраняется нижнее поле; <span class="constant">9</span>: чересстрочный с
                        отображением нижнего поля первым, первым сохраняется нижнее поле;
                        <span class="constant">14</span>: чересстрочный с отображением верхнего поля первым,
                        первым сохраняется нижнее поле
                        
                     </p>
                     
                  </td>
               </tr>
               <tr>
                  <td class="varlistoption"><a name="mkvmerge.description.stereo_mode"><span class="option">--stereo-mode</span> <span class="parameter">TID:n|symbolic-name</span></a></td>
                  <td>
                     
                     <p>
                        Устанавливает стереорежим для видеодорожки с помощью идентификатора дорожки
                        <span class="parameter">TID</span>. Режим может быть числом <span class="parameter">n</span>
                        от <span class="constant">0</span> до <span class="constant">14</span> либо символьным
                        именем. Все допустимые номера и имена могут быть перечислены с помощью <a href="#mkvmerge.description.list_stereo_modes">параметра
                           --list-stereo-modes</a>.
                        
                     </p>
                     
                  </td>
               </tr>
            </tbody>
         </table>
         
         
         
         <h2><a name="d4e4525">2.9. Параметры, применяющиеся только к текстовым субтитрам</a></h2>
         
         
         
         <table class="variablelist">
            <thead>
               <tr>
                  <th>Option</th>
                  <th>Description</th>
               </tr>
            </thead>
            <tbody>
               <tr>
                  <td class="varlistoption"><a name="mkvmerge.description.sub_charset"><span class="option">--sub-charset</span> <span class="parameter">TID:кодировка</span></a></td>
                  <td>
                     
                     <p>
                        Устанавливает набор символов для преобразования в UTF-8 для субтитров UTF-8
                        для заданного идентификатора дорожки. Если не указано иное, набор символов
                        будет получен из текущих настроек языка. Обратите внимание, что набор
                        символов не требуется для чтения субтитров из файлов <span class="productname">Matroska</span><sup>(tm)</sup> или из
                        потоков Kate, поскольку они всегда хранятся в UTF-8. Смотрите раздел о <a href="#mkvmerge.text_files_and_charsets">текстовых файлах и наборах
                           символов</a>, чтобы узнать, как <span class="productname">mkvmerge</span>(1) преобразует между наборами
                        символов.
                        
                     </p>
                     
                     
                     <p>
                        Этот параметр можно использовать несколько раз для входного файла,
                        применяемого к нескольким дорожкам, с указанием разных идентификаторов
                        дорожек.
                        
                     </p>
                     
                  </td>
               </tr>
            </tbody>
         </table>
         
         
         
         <h2><a name="d4e4565">2.10. Прочие параметры</a></h2>
         
         
         
         <table class="variablelist">
            <thead>
               <tr>
                  <th>Option</th>
                  <th>Description</th>
               </tr>
            </thead>
            <tbody>
               <tr>
                  <td class="varlistoption"><a name="mkvmerge.description.identify"><span class="option">-i</span>, <span class="option">--identify</span>
                        <span class="parameter">имя-файла</span></a></td>
                  <td>
                     
                     <p>
                        Позволит <span class="productname">mkvmerge</span>(1) проверить один файл и сообщить его тип, дорожки,
                        содержащиеся в файле, и их идентификаторы. Если используется этот параметр,
                        то другим единственным разрешённым параметром является имя файла.
                        
                     </p>
                     
                     
                     <p>Формат вывода результата может быть изменён параметром <a href="#mkvmerge.description.identification_format">--identification-format</a>.
                     </p>
                     
                  </td>
               </tr>
               <tr>
                  <td class="varlistoption"><a name="mkvmerge.description.identify_json"><span class="option">-J</span> <span class="parameter">имя-файла</span></a></td>
                  <td>
                     
                     <p>
                        Это удобный псевдоним для "<span class="literal">--identification-format json --identify
                           имя-файла</span>".
                        
                     </p>
                     
                  </td>
               </tr>
               <tr>
                  <td class="varlistoption"><a name="mkvmerge.description.identification_format"><span class="option">-F</span>, <span class="option">--identification-format</span>
                        <span class="parameter">формат</span></a></td>
                  <td>
                     
                     <p>
                        Определяет исходный формат, используемый <a href="#mkvmerge.description.identify">параметром
                           --identify</a>. Поддерживаются следующие форматы:
                        <span class="literal">text</span> (по умолчанию, если этот параметр не используется) и
                        <span class="literal">json</span>.
                        
                     </p>
                     
                     
                     <ol>
                        
                        <li>
                           
                           <p><span class="literal">Текстовый</span> формат выглядит коротким и удобочитаемым для
                              человека. Он состоит из одной строки для каждого найденного объекта
                              (контейнера, дорожки, вложения и т. д.).
                           </p>
                           
                           
                           <p>Этот формат не для анализа. Выходные данные будут переведены в язык,
                              используемый в <span class="productname">mkvmerge</span>(1) (см. также <a href="#mkvmerge.description.ui_language">--ui-language</a>).
                           </p>
                           
                        </li>
                        
                        
                        <li>
                           
                           <p>
                              Формат вывода <span class="literal">json</span> является машиночитаемым представлением
                              JSON. Этот формат соответствует схеме JSON, описанной в следующем файле:
                              
                           </p>
                           
                           
                           <p>
                              <a href="https://mkvtoolnix.download/doc/mkvmerge-identification-output-schema-v18.json">mkvmerge-identification-output-schema-v18.json</a>
                              
                           </p>
                           
                           
                           <p>
                              Все версии схемы JSON доступны как онлайн, так и в выпущенных архивах
                              исходного кода.
                              
                           </p>
                           
                        </li>
                        
                     </ol>
                     
                  </td>
               </tr>
               <tr>
                  <td class="varlistoption"><a name="mkvmerge.description.probe_range_percentage"><span class="option">--probe-range-percentage</span> <span class="parameter">процент</span></a></td>
                  <td>
                     
                     <p>
                        Типы файлов, такие как программы и транспортные потоки MPEG
                        (<span class="literal">.vob</span>, <span class="literal">.m2ts</span>), требуют разбора
                        определённого количества данных, чтобы обнаружить все дорожки, содержащиеся
                        в файле. Эта количество составляет 0,3% от размера исходного файла или 10
                        МБ, в зависимости от того, что больше.
                        
                     </p>
                     
                     
                     <p>
                        Если известно, что дорожки присутствуют, но не найдены, то процент для
                        проверки можно изменить с помощью этого параметра. Минимальный размер 10 МБ
                        является встроенным и не может быть изменён.
                        
                     </p>
                     
                  </td>
               </tr>
               <tr>
                  <td class="varlistoption"><a name="mkvmerge.description.list_audio_emphasis"><span class="option">--list-audio-emphasis</span></a></td>
                  <td>
                     
                     <p>
                        Выводит список допустимых чисел и их соответствующих символических имён для
                        параметра <a href="#mkvmerge.description.audio_emphasis">--audio-emphasis</a>.
                        
                     </p>
                     
                  </td>
               </tr>
               <tr>
                  <td class="varlistoption"><a name="mkvmerge.description.list_languages"><span class="option">--list-languages</span></a></td>
                  <td>
                     
                     <p>
                        Перечисляет все языки и их коды ISO 639-2, которые можно использовать с
                        параметром <a href="#mkvmerge.description.language">--language</a>.
                        
                     </p>
                     
                  </td>
               </tr>
               <tr>
                  <td class="varlistoption"><a name="mkvmerge.description.list_stereo_modes"><span class="option">--list-stereo-modes</span></a></td>
                  <td>
                     
                     <p>
                        Выводит список допустимых чисел и их соответствующих символических имён для
                        параметра <a href="#mkvmerge.description.audio_emphasis">--stereo-mode</a>.
                        
                     </p>
                     
                  </td>
               </tr>
               <tr>
                  <td class="varlistoption"><a name="mkvmerge.description.list_types"><span class="option">-l</span>, <span class="option">--list-types</span></a></td>
                  <td>
                     
                     <p>
                        Список поддерживаемых типов входящих файлов.
                        
                     </p>
                     
                  </td>
               </tr>
               <tr>
                  <td class="varlistoption"><a name="mkvmerge.description.priority"><span class="option">--priority</span> <span class="parameter">приоритет</span></a></td>
                  <td>
                     
                     <p>
                        Устанавливает приоритет, с которым выполняется процесс
                        <span class="productname">mkvmerge</span>(1). Допустимые значения — '<span class="literal">lowest'</span>,
                        '<span class="literal">lower</span>', '<span class="literal">normal</span>',
                        '<span class="literal">higher</span>' и '<span class="literal">highest'</span>. Если ничего не
                        задано, используется '<span class="literal">normal</span>'. В Unix-системах <span class="productname">mkvmerge</span>(1)
                        использует функцию <a href="http://linux.die.net/man/2/nice"><span class="productname">nice</span>(2)</a>. Поэтому только суперпользователь
                        может использовать '<span class="literal">higher</span>' и
                        '<span class="literal">highest'</span>. В Windows все значения доступны для
                        использования любому пользователю.
                        
                     </p>
                     
                     
                     <p>Выбор "<span class="literal">самого низкого</span>" также приводит к тому, что
                        <span class="productname">mkvmerge</span>(1) выбирает приоритет холостого ввода-вывода в дополнение к самому
                        низкому возможному приоритету процесса.
                     </p>
                     
                  </td>
               </tr>
               <tr>
                  <td class="varlistoption"><a name="mkvmerge.description.command_line_charset"><span class="option">--command-line-charset</span> <span class="parameter">кодировка</span></a></td>
                  <td>
                     
                     <p>
                        Устанавливает набор символов для преобразования строк заданных через
                        командную строку. По умолчанию используется набор символов для системной
                        локальные. Эти параметры применяются к аргументам следующих параметров:
                        <a href="#mkvmerge.description.title">--title</a>,
                        <a href="#mkvmerge.description.track_name">--track-name</a>
                        и <a href="#mkvmerge.description.attachment_description">--attachment-description</a>.
                        
                     </p>
                     
                  </td>
               </tr>
               <tr>
                  <td class="varlistoption"><a name="mkvmerge.description.output_charset"><span class="option">--output-charset</span> <span class="parameter">кодировка</span></a></td>
                  <td>
                     
                     <p>
                        Указывает кодировку, в которую конвертируются выходные строки. По умолчанию
                        используется текущая кодировка системного языка.
                        
                     </p>
                     
                  </td>
               </tr>
               <tr>
                  <td class="varlistoption"><a name="mkvmerge.description.redirect_output"><span class="option">-r</span>, <span class="option">--redirect-output</span>
                        <span class="parameter">имя-файла</span></a></td>
                  <td>
                     
                     <p>
                        Записывает все сообщения в файл <span class="parameter">file-name</span> вместо
                        консоли. Хотя это можно легко сделать с помощью перенаправления вывода, есть
                        случаи, когда этот параметр нужен: если терминал повторно интерпретирует
                        выход перед записью его в файл. Набор символов, установленный с <a href="#mkvmerge.description.output_charset">--output-charset</a>,
                        учитывается.
                        
                     </p>
                     
                  </td>
               </tr>
               <tr>
                  <td class="varlistoption"><a name="mkvmerge.description.flush_on_close"><span class="option">--flush-on-close</span></a></td>
                  <td>
                     
                     <p>
                        Указывает программе сбросить все данные, закэшированные в памяти, в
                        хранилище при закрытии файлов, открытых для записи. Это может быть
                        использовано для предотвращения потери данных при отключении питания или для
                        обхода определённых проблем в операционной системе или
                        драйверах. Недостатком является то, что паковка займёт больше времени, так
                        как mkvmerge придётся ждать, пока все данные не будут записаны в хранилище
                        перед выходом. Смотрите проблемы #2469 и #2480 в трекере ошибок MKVToolNix,
                        где подробно прокомментированы плюсы и минусы.
                        
                     </p>
                     
                  </td>
               </tr>
               <tr>
                  <td class="varlistoption"><a name="mkvmerge.description.ui_language"><span class="option">--ui-language</span> <span class="parameter">код</span></a></td>
                  <td>
                     
                     <p>
                        Принудительно использовать перевод на <span class="parameter">код</span> языка
                        (напр., «<span class="literal">de_DE</span>» для немецкого). Если указать
                        «<span class="literal">list</span>» вместо <span class="parameter">кода</span>, то отобразится
                        список доступных переводов.
                        
                     </p>
                     
                  </td>
               </tr>
               <tr>
                  <td class="varlistoption"><a name="mkvmerge.description.abort_on_warnings"><span class="option">--abort-on-warnings</span></a></td>
                  <td>
                     
                     <p>
                        Указывает mkvmerge прерывание после появления первого предупреждения. Код
                        завершения программы будет 1.
                        
                     </p>
                     
                  </td>
               </tr>
               <tr>
                  <td class="varlistoption"><a name="mkvmerge.description.deterministic"><span class="option">--deterministic</span> <span class="parameter">seed</span></a></td>
                  <td>
                     
                     <p>
                        Позволяет создавать файлы, идентичные до байта, если та же версия <span class="productname">mkvmerge</span>(1)
                        использована с теми же исходными файлами, тем же набором параметров и тем же
                        начальным элементом. Обратите внимание, что информационное поле сегмента
                        «дата» не записывается в этом режиме.
                        
                     </p>
                     
                     
                     <p>Зерно может быть произвольной строкой и не обязательно должно быть числом.</p>
                     
                     
                     <p>
                        Результат работы байт-идентичных файлов гарантируется только при следующих
                        условиях:
                        
                     </p>
                     
                     
                     <ol>
                        
                        <li>
                           
                           <p>Используется та же версия <span class="productname">mkvmerge</span>(1), собранная с теми же версиями libEBML и
                              libMatroska.
                           </p>
                           
                        </li>
                        
                        
                        <li>
                           
                           <p>Используемые исходные файлы байт-идентичны.</p>
                           
                        </li>
                        
                        
                        <li>
                           
                           <p>Те же параметры командной строки используются в том же порядке (за
                              исключением <span class="parameter">--output ...</span>).
                           </p>
                           
                        </li>
                        
                     </ol>
                     
                     
                     <p>
                        Использование других версий <span class="productname">mkvmerge</span>(1) или других параметров командной
                        строки может выдать тот же файл, идентичный до байта, но это не
                        гарантируется.
                        
                     </p>
                     
                  </td>
               </tr>
               <tr>
                  <td class="varlistoption"><a name="mkvmerge.description.debug"><span class="option">--debug</span> <span class="parameter">тематика</span></a></td>
                  <td>
                     
                     <p>
                        Включить режим отладки для указанной функции. Этот параметр полезен только
                        для разработчиков.
                        
                     </p>
                     
                  </td>
               </tr>
               <tr>
                  <td class="varlistoption"><a name="mkvmerge.description.engage"><span class="option">--engage</span> <span class="parameter">функция</span></a></td>
                  <td>
                     
                     <p>
                        Включает экспериментальные функции. Список доступных функций можно запросить
                        с помощью <span class="command">mkvinfo --engage list</span>. Эти функции не
                        предназначены для использования в обычных ситуациях.
                        
                     </p>
                     
                  </td>
               </tr>
               <tr>
                  <td class="varlistoption"><a name="mkvmerge.description.gui_mode"><span class="option">--gui-mode</span></a></td>
                  <td>
                     
                     <p>
                        Включает режим графического интерфейса. В этом режиме могут отображаться
                        специально отформатированные строки для отправки управляющих сообщений
                        интерфейсу. Формат сообщений — '<span class="literal">#GUI#message</span>'. За
                        сообщением могут быть указаны пары ключа и значения, например
                        '<span class="literal">#GUI#message#key1=value1#key2=value2…</span>'. Сообщения и
                        ключи не переводятся и всегда выводятся на английском.
                        
                     </p>
                     
                  </td>
               </tr>
               <tr>
                  <td class="varlistoption"><a name="mkvmerge.description.at_sign"><span class="option">@</span><span class="parameter">файл-параметров.json</span></a></td>
                  <td>
                     
                     <p>
                        Читает дополнительные аргументы командной строки из файла
                        <span class="parameter">options-file</span>. Подробности смотрите в разделе <a href="#mkvmerge.option_files">файлов параметров</a>.
                        
                     </p>
                     
                  </td>
               </tr>
               <tr>
                  <td class="varlistoption"><a name="mkvmerge.description.capabilities"><span class="option">--capabilities</span></a></td>
                  <td>
                     
                     <p>
                        Выводит информацию о дополнительных функциях, которые были скомпилированы и
                        вышли. В первой строке вывода будет информация о версии. Все последующие
                        строки содержат ровно одно слово, наличие которого указывает на то, что
                        функция скомпилирована. Эти функции следующие:
                        
                     </p>
                     
                     
                     <ul>
                        
                        <li>
                           
                           <p>
                              «<span class="literal">FLAC</span>» -- читает необработанные файлы
                              <span class="abbrev">FLAC</span> и работает с дорожками <span class="abbrev">FLAC</span> в других
                              контейнерах, например <span class="productname">Ogg</span><sup>(tm)</sup> или <span class="productname">Matroska</span><sup>(tm)</sup>.
                              
                           </p>
                           
                        </li>
                        
                     </ul>
                     
                  </td>
               </tr>
               <tr>
                  <td class="varlistoption"><a name="mkvmerge.description.help"><span class="option">-h</span>, <span class="option">--help</span></a></td>
                  <td>
                     
                     <p>
                        Показать сведения об использовании и выйти.
                        
                     </p>
                     
                  </td>
               </tr>
               <tr>
                  <td class="varlistoption"><a name="mkvmerge.description.version"><span class="option">-V</span>, <span class="option">--version</span></a></td>
                  <td>
                     
                     <p>
                        Показать сведения о версии и выйти.
                        
                     </p>
                     
                  </td>
               </tr>
            </tbody>
         </table>
         
         
         <h1><a name="mkvmerge.usage">3. Использование</a></h1>
         
         
         <p>
            Для каждого файла пользователь может выбрать, какие дорожки <span class="productname">mkvmerge</span>(1)
            должен взять. Все они помещаются в файл, указанный с параметром
            <span class="option">-o</span>. Список известных (и поддерживаемых) входных форматов
            можно получить с помощью параметра <span class="option">-l</span>.
            
         </p>
         
         
         <div class="important">
            <p class="important-title">Important:</p>
            
            <p>
               Порядок параметров в командной строке очень важен. Пожалуйста, прочтите
               раздел <a href="#mkvmerge.option_order">«Порядок параметров»</a>,
               если вы незнакомы с программой.
               
            </p>
            
         </div>
         
         <h1><a name="mkvmerge.option_order">4. Порядок параметров</a></h1>
         
         
         
         <p>
            Порядок ввода параметров важен для некоторых параметров. Варианты делятся на
            две категории:
            
         </p>
         
         
         <ol>
            
            <li>
               
               <p>
                  Параметры, которые влияют на всю программу и не привязаны ни к одному
                  входному файлу. Они включают, но не ограничиваются
                  <span class="option">--command-line-charset</span>, <span class="option">--output</span> или
                  <span class="option">--title</span>. Они могут быть в любом месте командной строки.
                  
               </p>
               
            </li>
            
            
            <li>
               
               <p>
                  Параметры, которые влияют на одиночный входной файл или одиночную дорожку во
                  входном файле. Все эти параметры применяются к следующему входному файлу в
                  командной строке. Все параметры, применяемые к одному и тому же входному
                  файлу (или к дорожкам из одного и того же входного файла), могут быть
                  записаны в любом порядке, если все они появляются перед именем этого
                  входного файла. Примеры применения параметров к входному файлу:
                  <span class="option">--no-chapters</span> или
                  <span class="option">--chapter-charset</span>. Примеры применения параметров к
                  одиночной дорожке: <span class="option">--default-duration</span> или
                  <span class="option">--language</span>.
                  
               </p>
               
            </li>
            
         </ol>
         
         
         <p>
            Параметры обрабатываются слева направо. Если параметр появляется несколько
            раз в пределах одной области, будет использовано последнее
            вхождение. Поэтому заголовок будет установлен на «что-то другое» в следующем
            примере:
            
         </p>
         
         <pre class="screen">$ mkvmerge -o выход.mkv --title 'Такой' вход.avi --title 'Другой'</pre>
         
         <p>
            В следующем примере показано, что использование параметра
            <span class="option">--language</span> дважды является нормальным, так как они
            используется в различных областях. Несмотря на то, что они применяются к
            одному и тому же идентификатору дорожки, они применяются к разным исходным
            файлам и, следовательно, имеют разную область действия:
            
         </p>
         
         <pre class="screen">$ mkvmerge -o выход.mkv --language 0:fre français.ogg --language 0:deu deutsch.ogg</pre>
         <h1><a name="mkvmerge.examples">5. Примеры</a></h1>
         
         
         <p>
            Предположим, у вас есть файл MyMovie.avi и аудиодорожка в отдельном файле,
            например «<span class="literal">MyMovie.wav</span>». Для начала вы хотите закодировать
            аудио в <span class="productname">OggVorbis</span><sup>(tm)</sup>:
            
         </p>
         
         <pre class="screen">$ oggenc -q4 -oМоё-видео.ogg Моё-видео.wav</pre>
         
         <p>
            Спустя несколько минут вы можете объединить видео и аудио:
            
         </p>
         
         <pre class="screen">$ mkvmerge -o Моё-видео-со-звуком.mkv Моё-видео.avi Моё-видео.ogg</pre>
         
         <p>
            Если ваш <span class="abbrev">AVI</span> уже содержит звуковую дорожку, то она также
            будет скопирована (если <span class="productname">mkvmerge</span>(1) поддерживает её аудиоформат). Чтобы
            избежать этого, просто сделайте следующее
            
         </p>
         
         <pre class="screen">$ mkvmerge -o Моё-видео-со-звуком.mkv -A Моё-видео.avi Моё-видео.ogg</pre>
         
         <p>
            После нескольких минут раздумий вы выбираете другую звуковую дорожку,
            например комментарии или иноязычную дорожку к
            «<span class="literal">MyMovie-add-audio.wav</span>». Кодируете его ещё раз и
            объединяете с другим файлом:
            
         </p>
         
         <pre class="screen">$ oggenc -q4 -oМоё-видео-с-добавлением-аудио.ogg Моё-видео-с-добавлением-аудио.wav
$ mkvmerge -o МВ-полное.mkv Моё-видео-с-аудио.mkv Моё-видео-с-добавлением-аудио.ogg</pre>
         
         <p>
            Такого же результата можно добиться с помощью
            
         </p>
         
         <pre class="screen">$ mkvmerge -o МВ-полное.mkv -A Моё-видео.avi Моё-видео.ogg Моё-видео-с-добавлением-аудио.ogg</pre>
         
         <p>
            Теперь используйте <span class="productname">mplayer</span><sup>(tm)</sup> и наслаждайтесь. Если
            у вас есть несколько аудиодорожек (или даже дорожек видео), вы можете
            указать <span class="productname">mplayer</span><sup>(tm)</sup>'у какую дорожку проигрывать,
            используя параметры '<span class="option">-vid</span>' и '<span class="option">-aid</span>'. Они
            основаны на 0 и не различают видео и аудио.
            
         </p>
         
         
         <p>
            Если вам нужна синхронизация звуковой дорожки, вы можете легко это
            сделать. Сначала узнайте идентификатор дорожки Vorbis с помощью
            
         </p>
         
         <pre class="screen">$ mkvmerge --identify рассинхрон.ogg</pre>
         
         <p>
            Теперь вы можете использовать этот идентификатор в следующей командной
            строке:
            
         </p>
         
         <pre class="screen">$ mkvmerge -o синхронный.mkv -A источник.avi -y 12345:200 рассинхрон.ogg</pre>
         
         <p>
            Это добавит 200 мс тишины в начале звуковой дорожки с идентификатором
            <span class="constant">12345</span>, взятым из '<span class="literal">out of sync.ogg'</span>.
            
         </p>
         
         
         <p>
            Некоторые фильмы начинают синхронизироваться правильно, но постепенно теряют
            синхронизацию. Для таких фильмов вы можете указать коэффициент задержки,
            который будет применяться ко всем временным меткам – данные не добавляются и
            не удаляются. Поэтому, если вы сделаете это соотношение слишком большим или
            слишком маленьким, вы получите плохие результаты. Например, эпизод имеет
            рассинхронизацию <span class="constant">0,2</span> секунды в конце фильма длиной
            <span class="constant">77340</span> кадров. При частоте кадров <span class="constant">29,97
               к/c</span> <span class="constant">0,2</span> секунды составляют примерно
            <span class="constant">6</span> кадров. Поэтому я сделал
            
         </p>
         
         <pre class="screen">$ mkvmerge -o синхронный.mkv -y 23456:0,77346/77340 рассинхрон.mkv</pre>
         
         <p>
            Результат был прекрасный.
            
         </p>
         
         
         <p>
            Параметры синхронизации могут использоваться для субтитров таким же
            способом.
            
         </p>
         
         
         <p>
            Для текстовых субтитров можно использовать программное обеспечение Windows
            (типа <span class="productname">SubRipper</span><sup>(tm)</sup>) или пакет
            <span class="productname">subrip</span><sup>(tm)</sup>, который можно найти в исходных файлах
            <a href="http://linux.die.net/man/1/transcode"><span class="productname">transcode</span>(1)</a>
            в каталоге «<span class="literal">contrib/subrip</span>». Общий процесс таков:
            
         </p>
         
         
         <ol>
            
            <li>
               
               <p>извлечь необработанный поток субтитров из исходника:</p>
               <pre class="screen">$ tccat -i /path/to/copied/dvd/ -T 1 -L | tcextract -x ps1 -t vob -a 0x20 | subtitle2pgm -o мойфильм</pre>
               </li>
            
            
            <li>
               
               <p>конвертировать результирующие изображения PGM в текст с помощью gocr:</p>
               <pre class="screen">$ pgm2txt моёвидео</pre>
               </li>
            
            
            <li>
               
               <p>проверить правописание результирующих текстовых файлов:</p>
               <pre class="screen">$ ispell -d american *txt</pre>
               </li>
            
            
            <li>
               
               <p>конвертировать текстовые файлы в файл SRT:</p>
               <pre class="screen">$ srttool -s -w -i мойфильм.srtx -o мойфильм.srt</pre>
               </li>
            
         </ol>
         
         
         <p>
            Выходной файл может быть использован как входной для <span class="productname">mkvmerge</span>(1):
            
         </p>
         
         <pre class="screen">$ mkvmerge -o мойфильм.mkv мойфильм.avi мойфильм.srt</pre>
         
         <p>
            Если вы хотите указать язык для определённой дорожки, это легко
            сделать. Сначала узнайте код ISO 639-2 для вашего языка. <span class="productname">mkvmerge</span>(1) может
            перечислить все эти коды для вас:
            
         </p>
         
         <pre class="screen">$ mkvmerge --list-languages</pre>
         
         <p>
            Найдите список нужных вам языков. Допустим, вы поместили две звуковые
            дорожки в файл <span class="productname">Matroska</span><sup>(tm)</sup> и хотите установить коды своих языков, а также
            идентификаторы дорожек 2 и 3. Это можно сделать при помощи
            
         </p>
         
         <pre class="screen">$ mkvmerge -o с-кодами-языков.mkv --language 2:ger --language 3:dut без-кодов-языков.mkv</pre>
         
         <p>
            Как вы видите, переключатель <a href="#mkvmerge.description.language">--language</a>
            может быть использован несколько раз.
            
         </p>
         
         
         <p>
            Например, вы также хотите, чтобы проигрыватель использовал нидерландский
            язык в качестве языка по умолчанию. У вас также есть дополнительные
            субтитры, например, на английском и французском языках, и вы хотите, чтобы
            проигрыватель отображал французские по умолчанию. Это можно сделать с
            помощью
            
         </p>
         
         <pre class="screen">$ mkvmerge -o with-lang-codes.mkv --language 2:ger --language 3:dut --default-track-flag 3 without-lang-codes.mkv --language 0:eng english.srt --default-track-flag 0 --language 0:fre french.srt</pre>
         
         <p>
            Если вы не видите язык или флаг дорожки по умолчанию, которые вы указали в
            выводе <a href="mkvinfo.html"><span class="productname">mkvinfo</span>(1)</a>, прочитайте, пожалуйста, раздел о <a href="#mkvmerge.default_values">стандартных значениях</a>.
            
         </p>
         
         
         <p>
            Выключить сжатие для исходного файла.
            
         </p>
         
         <pre class="screen">$ mkvmerge -o без-сжатия.mkv --compression -1:none Мой-фильм.avi --compression -1:none мойфильм.srt</pre>
         
         <h1><a name="mkvmerge.track_ids">6. Идентификаторы дорожек</a></h1>
         
         
         
         <h2><a name="mkvmerge.track_ids.regular_ids">6.1. Обычные идентификаторы дорожек</a></h2>
         
         
         
         <p>
            Некоторые параметры в <span class="productname">mkvmerge</span>(1) требуют идентификатор дорожки, чтобы
            определить к какой дорожке они должны быть применены. Эти идентификаторы
            дорожек печатаются считывателями при демульплексировании текущего входного
            файла, или если <span class="productname">mkvmerge</span>(1) выполняется с параметром <a href="#mkvmerge.description.identify">--identify</a>.
            Пример такого вывода:
            
         </p>
         
         <pre class="screen">$ mkvmerge -i v.mkv
Файл 'v.mkv': контейнер Matroska
ID дорожки 0: video (V_MS/VFW/FOURCC, DIV3)
ID дорожки 1: audio (A_MPEG/L3)</pre>
         
         <p>
            Не путайте идентификаторы дорожек, назначаемых дорожкам во входном файле
            MKV, с идентификаторами дорожек входных файлов. Для параметров, требующих
            этих значений, используются только идентификаторы дорожек входных файлов.
            
         </p>
         
         
         <p>
            Также обратите внимание, что каждый входной файл имеет свой собственный
            набор идентификаторов дорожек. Поэтому идентификаторы дорожек для файла
            '<span class="filename">file1.ext</span>' как сообщает '<span class="literal">mkvmerge
               --identify</span>' не изменяются независимо от того, сколько там других
            входных файлов и в каком положении '<span class="filename">file1.ext</span>'
            используются.
            
         </p>
         
         
         <p>
            ID дорожек назначаются следующим образом:
            
         </p>
         
         
         <ul>
            
            <li>
               
               <p>
                  Файлы <span class="abbrev">AVI</span>: видеодорожка имеет идентификатор 0. Звуковые
                  дорожки получают идентификаторы в порядке возрастания, начиная с 1.
                  
               </p>
               
            </li>
            
            
            <li>
               
               <p>
                  Файлы <span class="abbrev">AAC</span>, <span class="abbrev">AC-3</span>, <span class="abbrev">MP3</span>,
                  <span class="abbrev">SRT</span> и <span class="abbrev">WAV</span>: одна "дорожка" в этом файле
                  получает идентификатор 0.
                  
               </p>
               
            </li>
            
            
            <li>
               
               <p>
                  Большинство других файлов: идентификаторы треков назначаются в порядке, в
                  котором треки находятся в файле, начиная с 0.
                  
               </p>
               
            </li>
            
         </ul>
         
         
         <p>
            Параметры, использующие идентификаторы треков это те, описание которых
            содержит '<span class="literal">TID</span>'. Следующие параметры также используются
            идентификаторы треков: <span class="option">-- audio-tracks</span>,
            <span class="option">--video-tracks</span>, <span class="option">--subtitle-tracks</span>,
            <span class="option">--button-tracks</span> и <span class="option">--track-tags</span>.
            
         </p>
         
         
         
         <h2><a name="mkvmerge.track_ids.special_ids">6.2. Специальные идентификаторы дорожки</a></h2>
         
         
         
         <p>
            Есть несколько идентификаторов, которые имеют особое значение и не
            встречаются в выходных данных идентификации.
            
         </p>
         
         
         <p>
            Специальный идентификатор дорожки «<span class="constant">-1</span>» является
            символом подстановки и применяет данный переключатель ко всем дорожкам,
            которые считываются из входного файла.
            
         </p>
         
         
         <p>
            Специальный идентификатор дорожки '<span class="constant">-2</span>' ссылается на
            главы в исходном файле. В данный момент только параметр
            <span class="option">--sync</span> использует этот специальный идентификатор. В
            качестве альтернативы <span class="option">--sync -2:...</span> можно использовать
            параметр <span class="option">--chapter-sync ...</span>.
            
         </p>
         
         
         <h1><a name="mkvmerge.language_handling">7. Работа с языками</a></h1>
         
         
         
         <p>
            <span class="productname">Matroska</span><sup>(tm)</sup> поддерживает два различных типа языковых элементов: старый,
            устаревший элемент «Language», содержащий коды ISO 639-2 alpha 3, и новые
            теги «LanguageIETF», содержащие языковые теги IETF BCP 47. Все параметры
            <span class="productname">mkvmerge</span>(1), которые принимают язык, принимают языковой тег BCP
            47. <span class="productname">mkvmerge</span>(1) будет выводить значение для устаревшего элемента «Language»
            из языковых тегов BCP 47, где это возможно.
            
         </p>
         
         
         <p>
            При идентификации файла в режиме JSON существующие элементы заголовка
            дорожки «LanguageIETF» будут выведены в качестве свойства дорожки
            <span class="literal">language_ietf</span>.
            
         </p>
         
         
         <p>
            При записи файла <span class="productname">mkvmerge</span>(1) всегда будет записывать элементы «LanguageIETF»,
            «ChapLanguageIETF» и «TagLanguageIETF» (последние два только в случае записи
            глав или тегов соответственно). В дополнение к этим элементам будут записаны
            соответствующие старые элементы; они будут установлены на часть кода ISO
            639-2 языкового тега BCP 47. Например, когда язык дорожки установлен на
            <span class="literal">sr-Cyrl-RS</span>, «LanguageIETF» будет установлен на
            <span class="literal">sr-Cyrl-RS</span>, а старый элемент «Language» будет установлен
            на <span class="literal">srp</span>.
            
         </p>
         
         
         <p>
            При чтении существующих файлов (файлы Matroska, файлы глав или тегов XML и
            т. д.), которые уже содержат элементы «...LanguageIETF"» существующие
            элементы будут сохранены. В противном случае элементы "«..LanguageIETF»
            будут добавлены на основе параметров командной строки и других существующих
            устаревших элементов «...Language».
            
         </p>
         
         
         <p>
            Создание новых элементов можно полностью отключить с помощью параметра
            командной строки <span class="option">--disable-language-ietf</span>, который действует
            на все три новых элемента.
            
         </p>
         
         
         <p>
            С помощью параметра <a href="#mkvmerge.description.normalize_language_ietf">--normalize-language-ietf</a>
            можно выбрать метод нормализации, применяемый к расширенным языковым
            подтегам.
            
         </p>
         
         <h1><a name="mkvmerge.text_files_and_charsets">8. Преобразование текстовых файлов и кодировок</a></h1>
         
         
         <div class="note">
            <p class="note-title">Note:</p>
            
            <p>
               Этот раздел относится ко всем программам в MKVToolNix, даже если в нём
               упоминается только <span class="productname">mkvmerge</span>(1).
               
            </p>
            
         </div>
         
         
         <h2><a name="mkvmerge.text_files_and_charsets.introduction">8.1. Введение</a></h2>
         
         
         <p>
            Весь текст в файле <span class="productname">Matroska</span><sup>(tm)</sup> закодирован в UTF-8. это означает, что
            <span class="productname">mkvmerge</span>(1) должен преобразовать каждый текстовый файл, который он читает, а
            также каждый текст, представленный в командной строке, из любого набора
            символов в UTF-8. В свою очередь это также означает, что вывод <span class="productname">mkvmerge</span>(1)
            необходимо преобразовать обратно в этот набор символов из UTF-8, например,
            если не-английский перевод используется с <a href="#mkvmerge.description.ui_language">--ui-language</a>
            или для текста, происходящего из файла <span class="productname">Matroska</span><sup>(tm)</sup>.
            
         </p>
         
         
         <p>
            <span class="productname">mkvmerge</span>(1) выполняет это преобразование автоматически на основе наличия
            маркера порядка байтов (коротко: <span class="abbrev">BOM</span>) или текущей локали
            системы. То, как набор символов выводится из локали, зависит от операционной
            системы, в которой <span class="productname">mkvmerge</span>(1) выполняется.
            
         </p>
         
         
         
         <h2><a name="mkvmerge.text_files_and_charsets.byte_order_markers">8.2. Маркеры последовательности байтов (BOM)</a></h2>
         
         
         
         <p>
            Текстовые файлы, начинающиеся с BOM, уже закодированы в одном представлении
            UTF. <span class="productname">mkvmerge</span>(1) поддерживает следующие пять режимов: UTF-8, UTF-16 Little и
            Big Endian, UTF-32 Little и Big Endian. Текстовые файлы из BOM автоматически
            конвертируются в UTF-8. Любые параметры, которые иначе установят набор
            символов для такого файла (например, <a href="#mkvmerge.description.sub_charset">--sub-charset</a>),
            молча игнорируется.
            
         </p>
         
         
         
         <h2><a name="mkvmerge.text_files_and_charsets.unix">8.3. Linux и Unix-подобные системы, включая macOS</a></h2>
         
         
         
         <p>
            В Unix-системах <span class="productname">mkvmerge</span>(1) использует системный вызов
            <a href="http://linux.die.net/man//setlocale"><span class="productname">setlocale</span>()</a>3, который, в свою очередь, использует
            переменные среды <span class="varname">LANG</span>, <span class="varname">LC_ALL</span> и
            <span class="varname">LC_CYPE</span>. Полученный набор символов часто является одним
            из семейства UTF-8 или ISO-8859-* и используется для всех операций с
            текстовыми файлами и для кодирования строк в командной строке и для вывода в
            консоль.
            
         </p>
         
         
         
         <h2><a name="mkvmerge.text_files_and_charsets.windows">8.4. Windows</a></h2>
         
         
         
         <p>
            В Windows набор символов по умолчанию, используемый для преобразования
            текстовых файлов, определяется вызовом системного вызова
            <span class="function">GetACP()</span>.
            
         </p>
         
         
         <p>
            Чтение командной строки завершается функцией
            <span class="function">GetCommandLineW()</span>, которая возвращает строку
            Unicode. Поэтому параметр <span class="option">--command-line-charset</span>
            игнорируется в Windows.
            
         </p>
         
         
         <p>
            Вывод консоли состоит из трёх сценариев:
            
         </p>
         
         
         <ol>
            
            <li>
               
               <p>
                  Если вывод перенаправлен параметром <a href="#mkvmerge.description.redirect_output">--redirect-output</a>,
                  то по умолчанию устанавливается набор символов UTF-8. Это можно изменить с
                  помощью <a href="#mkvmerge.description.output_charset">--output-charset</a>.
                  
               </p>
               
            </li>
            
            
            <li>
               
               <p>
                  Если вывод перенаправлен с <span class="command">cmd.exe</span> самостоятельно,
                  например с <span class="literal">mkvinfo file.mkv &gt; info.txt</span>, тогда набор
                  символов всегда будет установлен в UTF-8 и не может быть изменён.
                  
               </p>
               
            </li>
            
            
            <li>
               
               <p>
                  В противном случае (при записи непосредственно в консоль) используется
                  функция Windows <span class="function">WriteConsoleW()</span> и параметр <a href="#mkvmerge.description.output_charset">--output-charset</a>
                  игнорируется. Консоль должна иметь возможность выводить все символы Unicode,
                  для которых установлена соответствующая поддержка языков (например,
                  китайские символы могут не отображаться в английских версиях Windows).
                  
               </p>
               
            </li>
            
         </ol>
         
         
         
         <h2><a name="mkvmerge.text_files_and_charsets.options">8.5. Параметры командной строки</a></h2>
         
         
         
         <p>
            Существуют следующие параметры для указания специфичных кодировок:
            
         </p>
         
         
         <ul>
            
            <li>
               
               <p>
                  <a href="#mkvmerge.description.sub_charset">--sub-charset</a>
                  для файлов субтитров и для субтитров, находящихся в контейнере формата, для
                  которых кодировка не может быть определена однозначно (напр. файлы Ogg),
                  
               </p>
               
            </li>
            
            
            <li>
               
               <p>
                  <a href="#mkvmerge.description.chapter_charset">--chapter-charset</a>
                  для текстовых файлов глав и для глав и заголовков файлов, хранящихся в
                  контейнерных форматах, для которых набор символов не может быть определён
                  однозначно (например, файлы Ogg для информации глав, дорожек и заголовков
                  файлов и т. д.; файлы MP4 для информации глав),
                  
               </p>
               
            </li>
            
            
            <li>
               
               <p>
                  <a href="#mkvmerge.description.command_line_charset">--command-line-charset</a>
                  - для всех строк в командной строке,
                  
               </p>
               
            </li>
            
            
            <li>
               
               <p>
                  <a href="#mkvmerge.description.output_charset">--output-charset</a>
                  для всех строк, записанных в консоль или файл, если вывод был перенаправлен
                  с параметром <a href="#mkvmerge.description.redirect_output">--redirect-output</a>.
                  В не Windows-системах по умолчанию для исходного набора символов
                  используется текущий набор символов системы. В Windows перенаправление по
                  умолчанию установлено в UTF-8 с использованием <a href="#mkvmerge.description.redirect_output">--redirect-output</a>
                  и с самим <span class="command">cmd.exe</span>, например, <span class="literal">mkvinfo file.mkv
                     &gt; info.txt</span>.
                  
               </p>
               
            </li>
            
         </ul>
         
         
         <h1><a name="mkvmerge.option_files">9. Файлы параметров</a></h1>
         
         
         
         <p>
            Файлом параметров является файл, из которого <span class="productname">mkvmerge</span>(1) может считать
            дополнительные аргументы командной строки. Это можно использовать для того,
            чтобы обойти определённые ограничения оболочки или операционной системы во
            время выполнения внешних программ, например, при ограниченной длине
            командной строки.
            
         </p>
         
         
         <p>
            Файл параметров содержит данные в формате JSON. Его содержимое должно быть
            действительным массивом JSON, состоящим исключительно из строк
            JSON. Кодировка файла должна быть UTF-8. Файл не должен начинаться с маркера
            порядка байтов (<span class="abbrev">BOM</span>), но если он существует, он будет
            пропущен.
            
         </p>
         
         
         <p>
            Правила для экранирования специальных символов внутри JSON приведены в
            официальной спецификации JSON, <a href="https://tools.ietf.org/html/rfc7159">RFC 7159</a>.
            
         </p>
         
         
         <p>
            Само имя файла параметров должно быть указано в виде аргумента командной
            строки с префиксом «<span class="literal">@</span>».
            
         </p>
         
         
         <p>
            Командная строка «<span class="command">mkvmerge -o "my file.mkv" -A "a movie.avi"
               sound.ogg</span>» может быть преобразована в следующий файл параметров
            JSON под названием, например, «<span class="filename">options.json</span>»:
            
         </p>
         
         <pre class="programlisting">[
  "-o",
  "c:\\Matroska\\мой файл.mkv",
  "--title",
  "#65",
  "-A",
  "фильм.avi",
  "звук.ogg"
]</pre>
         
         <p>
            Тогда соответствующая команда будет «<span class="command">mkvmerge
               @options.json</span>».
            
         </p>
         
         <h1><a name="mkvmerge.file_linking">10. Связывание файла</a></h1>
         
         
         <p>
            <span class="productname">Matroska</span><sup>(tm)</sup> поддерживает связывание файлов, которое просто говорит, что
            конкретный файл является предшественником или преемником текущего
            файла. Если быть точным, то на самом деле связаны не файлы, а сегменты
            <span class="productname">Matroska</span><sup>(tm)</sup>. Поскольку большинство файлов, вероятно, будут содержать только
            один сегмент <span class="productname">Matroska</span><sup>(tm)</sup>, в приведённых ниже объяснениях используется термин
            «связывание файлов», хотя «связывание сегментов» было бы более подходящим.
            
         </p>
         
         
         <p>
            Каждый сегмент идентифицируется уникальным 128-битным UID сегмента. Этот UID
            автоматически генерирует <span class="productname">mkvmerge</span>(1). Связывание осуществляется главным
            образом путём размещения UID сегментов (кратко: <span class="abbrev">SID</span>)
            предыдущего/следующего файла в информацию заголовка сегмента. <a href="mkvinfo.html"><span class="productname">mkvinfo</span>(1)</a>
            печатает эти идентификаторы <span class="abbrev">SID</span>, если найдёт их.
            
         </p>
         
         
         <p>
            Если файл разбит на несколько меньших и используется связывание, то метки
            времени не будут начинаться снова с 0, а будут продолжаться там, где
            остановился последний файл. Таким образом сохраняется абсолютное время, даже
            если предыдущие файлы недоступны (например, во время потоковой
            передачи). Если связывание не используется, временные метки должны
            начинаться с 0 для каждого файла. По умолчанию <span class="productname">mkvmerge</span>(1) не использует
            связывание файлов. Если вы хотите, вы можете включить его с помощью
            параметра <span class="option">--link</span>. Этот параметр полезен только в том
            случае, если также активировано разделение.
            
         </p>
         
         
         <p>
            Независимо от того, активировано ли разделение или нет, пользователь может
            указать <span class="productname">mkvmerge</span>(1) чтобы связать созданные файлы с конкретными
            <span class="abbrev">SID</span>. Это достигается с помощью параметров
            <span class="option">--link-to-previous</span> и <span class="option">--link-to-next</span>. Эти
            параметры принимают сегмент <span class="abbrev">SID</span> в формате, который выводит
            <a href="mkvinfo.html"><span class="productname">mkvinfo</span>(1)</a>: 16 шестнадцатеричных чисел между <span class="constant">0x00</span> и
            <span class="constant">0xff</span>, где каждое имеет префикс '<span class="literal">0x</span>',
            например, '<span class="code">0x41 0xda 0x73 0x66 0xd9 0xcf 0xb2 0x1e 0xae 0x78 0xeb 0xb4
               0x5e 0xca 0xb3 0x93'</span>. В качестве альтернативы можно использовать
            более короткую форму: 16 шестнадцатеричных чисел между
            <span class="constant">0x00</span> и <span class="constant">0xff</span> без префиксов
            '<span class="literal">0x</span>' и без пробелов, например
            '<span class="code">41da7366d9cfb21eae78ebb45ecab393</span>'.
            
         </p>
         
         
         <p>
            Если разделение используется, то первый файл связывается с
            <span class="abbrev">SID</span>, передаваемым из <span class="option">--link-to-previous</span>, и
            последний файл связывается с <span class="abbrev">SID</span>, передаваемым из
            <span class="option">--link-to-next</span>. Если разделение не используется, то один
            выходной файл будет связан с обоими <span class="abbrev">SID</span>.
            
         </p>
         
         <h1><a name="mkvmerge.default_values">11. Стандартные значения</a></h1>
         
         
         <p>
            Спецификация <span class="productname">Matroska</span><sup>(tm)</sup> утверждает, что некоторые элементы имеют значение по
            умолчанию. Обычно элемент не записывается в файл, если его значение равно
            значению по умолчанию, чтобы сэкономить место. Элементы, которые
            пользователь может пропустить в выводе <a href="mkvinfo.html"><span class="productname">mkvinfo</span>(1)</a>, — это элементы
            <span class="parameter">язык</span> и <span class="parameter">флаг дорожки по
               умолчанию</span>. Значением по умолчанию для элемента
            <span class="parameter">язык</span> является английский ('<span class="literal">eng</span>'),
            а значением по умолчанию для элемента <span class="parameter">флаг дорожки по
               умолчанию</span> является <span class="parameter">да</span>. Поэтому, если вы
            использовали <span class="option">--language 0:eng</span> для дорожки, оно не будет
            отображаться в выводе <a href="mkvinfo.html"><span class="productname">mkvinfo</span>(1)</a>.
            
         </p>
         
         <h1><a name="mkvmerge.attachments">12. Вложения</a></h1>
         
         
         <p>
            Возможно, вы также хотите сохранить некоторые фотографии вместе со своим
            файлом <span class="productname">Matroska</span><sup>(tm)</sup>, или вы используете субтитры <span class="abbrev">SSA</span> и
            нуждаетесь в специальном шрифте <span class="productname">TrueType</span><sup>(tm)</sup>, который
            очень редко встречается. В этих случаях вы можете прикрепить эти файлы к
            файлу <span class="productname">Matroska</span><sup>(tm)</sup>. Они будут не просто добавлены в файл, а встроены в
            него. Затем проигрыватель сможет показать эти файлы (случай «фотографий»)
            или использовать их для воспроизведения субтитров (случай «шрифты
            <span class="productname">TrueType</span><sup>(tm)</sup>»).
            
         </p>
         
         
         <p>
            Вот пример вложения фотографии и шрифта <span class="productname">TrueType</span><sup>(tm)</sup>
            в выходной файл:
            
         </p>
         
         <pre class="screen">$ mkvmerge -o output.mkv -A video.avi sound.ogg \
  --attachment-description "Me and the band behind the stage in a small get-together" \
  --attachment-mime-type image/jpeg \
  --attach-file me_and_the_band.jpg \
  --attachment-description "The real rare and unbelievably good looking font" \
  --attachment-mime-type application/octet-stream \
  --attach-file really_cool_font.ttf</pre>
         
         <p>
            Если в качестве входного файла используется файл <span class="productname">Matroska</span><sup>(tm)</sup> с вложением, то
            <span class="productname">mkvmerge</span>(1) скопирует вложения в новый файл. Выбор того, какие вложения
            копируются, а какие нет, можно изменить с помощью параметров <a href="#mkvmerge.description.attachments">--attachments</a>
            и <a href="#mkvmerge.description.no_attachments">--no-attachments</a>.
            
         </p>
         
         <h1><a name="mkvmerge.chapters">13. Главы</a></h1>
         
         
         <p>
            Система глав <span class="productname">Matroska</span><sup>(tm)</sup> более обширна, чем старая известная система,
            используемая в файлах <span class="abbrev">OGM</span>. Полная документация расположена
            на <a href="https://www.matroska.org/">сайте Matroska</a>.
            
         </p>
         
         
         <p>
            <span class="productname">mkvmerge</span>(1) поддерживает два типа файлов глав в качестве входных
            данных. Первый формат под названием «простой формат главы» является тем же
            форматом, который ожидают инструменты <span class="abbrev">OGM</span>. Второй формат —
            это формат глав на основе <span class="abbrev">XML</span>, который поддерживает все функции глав
            <span class="productname">Matroska</span><sup>(tm)</sup>.
            
         </p>
         
         
         <p>
            Помимо специальных файлов глав <span class="productname">mkvmerge</span>(1) может также читать главы из других
            форматов (например, MP4, Ogg, Blu-rays или DVD).
            
         </p>
         
         
         <h2><a name="mkvmerge.chapters.simple">13.1. Простой формат глав</a></h2>
         
         
         
         <p>
            Этот формат состоит из пар строк, начинающихся с
            «<span class="literal">CHAPTERxx=</span>» и «<span class="literal">CHAPTERxxNAME=</span>»
            соответственно. Первый содержит метку времени начала, а второй содержит
            название. Например:
            
         </p>
         
         <pre class="screen">CHAPTER01=00:00:00.000
CHAPTER01NAME=Intro
CHAPTER02=00:02:30.000
CHAPTER02NAME=Baby prepares to rock
CHAPTER03=00:02:42.300
CHAPTER03NAME=Baby rocks the house</pre>
         
         <p>
            <span class="productname">mkvmerge</span>(1) преобразует каждую пару или строки в один
            <span class="classname">ChapterAtom</span> <span class="productname">Matroska</span><sup>(tm)</sup>. Он не устанавливает
            какой-либо <span class="classname">ChapterTrackNumbe</span>, что означает, что все
            главы применяются ко всем дорожкам в файле.
            
         </p>
         
         
         <p>
            Поскольку это текстовый файл, может потребоваться преобразование набора
            символов. Смотрите раздел о <a href="#mkvmerge.text_files_and_charsets">текстовых файлах и наборах
               символов</a> для разъяснения, как <span class="productname">mkvmerge</span>(1) преобразует между наборами
            символов.
            
         </p>
         
         
         
         <h2><a name="mkvmerge.chapters.xml">13.2. Формат глав на основе XML</a></h2>
         
         
         <p>
            Формат глав на основе <span class="abbrev">XML</span>, выглядит примерно так:
            
         </p>
         
         <pre class="screen">&lt;?xml version="1.0" encoding="ISO-8859-1"?&gt;
&lt;!DOCTYPE Chapters SYSTEM "matroskachapters.dtd"&gt;
&lt;Chapters&gt;
  &lt;EditionEntry&gt;
    &lt;ChapterAtom&gt;
      &lt;ChapterTimeStart&gt;00:00:30.000&lt;/ChapterTimeStart&gt;
      &lt;ChapterTimeEnd&gt;00:01:20.000&lt;/ChapterTimeEnd&gt;
      &lt;ChapterDisplay&gt;
        &lt;ChapterString&gt;A short chapter&lt;/ChapterString&gt;
        &lt;ChapterLanguage&gt;eng&lt;/ChapterLanguage&gt;
      &lt;/ChapterDisplay&gt;
      &lt;ChapterAtom&gt;
        &lt;ChapterTimeStart&gt;00:00:46.000&lt;/ChapterTimeStart&gt;
        &lt;ChapterTimeEnd&gt;00:01:10.000&lt;/ChapterTimeEnd&gt;
        &lt;ChapterDisplay&gt;
          &lt;ChapterString&gt;A part of that short chapter&lt;/ChapterString&gt;
          &lt;ChapterLanguage&gt;eng&lt;/ChapterLanguage&gt;
        &lt;/ChapterDisplay&gt;
      &lt;/ChapterAtom&gt;
    &lt;/ChapterAtom&gt;
  &lt;/EditionEntry&gt;
&lt;/Chapters&gt;</pre>
         
         <p>
            У этого формата есть три возможности, отсутствующие в простом формате глав:
            
         </p>
         
         
         <ol>
            
            <li>
               <p>Временная метка конца главы может быть установлена,</p>
            </li>
            
            <li>
               <p>главы могут быть вложены,</p>
            </li>
            
            <li>
               <p>язык и страна могут быть указаны.</p>
            </li>
            
         </ol>
         
         
         <p>
            Дистрибутив mkvtoolnix содержит несколько файлов для примера, они
            расположены в подпапке <span class="filename">doc</span> и могут быть использованы в
            качестве образца.
            
         </p>
         
         
         <p>
            Далее показан список поддерживаемых тегов XML, их типы данных и интервал
            допустимых значений:
            
         </p>
         
         <pre class="screen">Chapters (master)
  EditionEntry (master)
    EditionUID (unsigned integer, valid range: 1 &lt;= value)
    EditionFlagHidden (unsigned integer, valid range: 0 &lt;= value &lt;= 1)
    EditionFlagDefault (unsigned integer, valid range: 0 &lt;= value &lt;= 1)
    EditionFlagOrdered (unsigned integer, valid range: 0 &lt;= value &lt;= 1)
    ChapterAtom (master)
      ChapterAtom (master)
      ChapterUID (unsigned integer, valid range: 1 &lt;= value)
      ChapterTimeStart (unsigned integer)
      ChapterTimeEnd (unsigned integer)
      ChapterFlagHidden (unsigned integer, valid range: 0 &lt;= value &lt;= 1)
      ChapterFlagEnabled (unsigned integer, valid range: 0 &lt;= value &lt;= 1)
      ChapterSegmentUID (binary, valid range: 1 &lt;= length in bytes)
      ChapterSegmentEditionUID (unsigned integer, valid range: 1 &lt;= value)
      ChapterPhysicalEquiv (unsigned integer)
      ChapterTrack (master)
        ChapterTrackNumber (unsigned integer, valid range: 1 &lt;= value)
      ChapterDisplay (master)
        ChapterString (UTF-8 string)
        ChapterLanguage (UTF-8 string)
        ChapterCountry (UTF-8 string)
      ChapterProcess (master)
        ChapterProcessCodecID (unsigned integer)
        ChapterProcessPrivate (binary)
        ChapterProcessCommand (master)
          ChapterProcessTime (unsigned integer)
          ChapterProcessData (binary)</pre>
         
         
         <h2><a name="mkvmerge.chapters.blurays">13.3. Чтение глав из Blu-ray</a></h2>
         
         
         
         <p>
            <span class="productname">mkvmerge</span>(1) может читать главы из незашифрованных дисков Blu-ray. Для этого
            вы можете использовать путь к одному из списков воспроизведения MPLS с
            параметром --chapters.
            
         </p>
         
         
         <p>
            Пример: <span class="literal">--chapters
               /srv/blurays/BigBuckBunny/BDMV/PLAYLIST/00001.mpls</span>
            
         </p>
         
         
         
         <h2><a name="mkvmerge.chapters.dvds">13.4. Чтение глав из DVD</a></h2>
         
         
         
         <p>
            Когда MKVToolNix собран с библиотекой <span class="productname">libdvdread</span><sup>(tm)</sup>,
            <span class="productname">mkvmerge</span>(1) может читать главы с DVD. Для этого вы можете использовать путь к
            одной из папок или файлов на DVD с параметром
            <span class="parameter">--chapters</span>. Поскольку DVD-диски могут содержать более
            одного заголовка, а каждый заголовок имеет свой собственный набор глав, вы
            можете добавить двоеточие и желаемый номер имени в конец аргумента имени
            файла. Номер имени по умолчанию равен 1.
            
         </p>
         
         
         <p>
            Пример: <span class="literal">--chapters /srv/dvds/BigBuckBunny/VIDEO_TS:2</span>
            
         </p>
         
         
         
         <h2><a name="d4e6461">13.5. Общие замечания</a></h2>
         
         
         <p>
            При разделении файлов <span class="productname">mkvmerge</span>(1) также правильно корректирует главы. Это
            означает, что каждый файл содержит только записи глав, которые к нему
            относятся, и что метки времени будут смещены в соответствии с новыми метками
            времени каждого исходного файла.
            
         </p>
         
         
         <p>
            <span class="productname">mkvmerge</span>(1) может копировать главы из входных файлов <span class="productname">Matroska</span><sup>(tm)</sup>, если они
            явно не отключены с помощью параметра <a href="#mkvmerge.description.no_chapters">--no-chapters</a>.
            Главы из всех источников (файлы <span class="productname">Matroska</span><sup>(tm)</sup>, файлы Ogg, файлы
            <span class="abbrev">MP4</span>, текстовые файлы глав) обычно не объединяются, а
            выходят в отдельные <span class="classname">ChapterEdition</span>. Только если главы
            читаются из нескольких  файлов <span class="productname">Matroska</span><sup>(tm)</sup> или <span class="abbrev">XML</span>, имеющих одинаковые
            идентификаторы UID издания, будут объединены в единый
            <span class="classname">ChapterEdition</span>. Если такое объединение желательно и в
            других ситуациях, пользователь должен сначала извлечь главы из всех
            источников с помощью <a href="mkvextract.html"><span class="productname">mkvextract</span>(1)</a> затем вручную объединить файлы <span class="abbrev">XML</span>, а
            затем мультиплексировать их.
            
         </p>
         
         
         <h1><a name="mkvmerge.tags">14. Метки</a></h1>
         
         
         
         <h2><a name="d4e6526">14.1. Введение</a></h2>
         
         
         
         <p>
            Система тегов <span class="productname">Matroska</span><sup>(tm)</sup> аналогична системе других контейнеров: набор пар
            <span class="parameter">KEY=VALUE</span>. Однако в <span class="productname">Matroska</span><sup>(tm)</sup> эти теги также могут
            быть вложенными, и как <span class="parameter">KEY, так и VALUE</span> являются
            собственными элементами. Пример файла
            <span class="filename">example-tags-2.xml</span> показывает, как использовать эту
            систему.
            
         </p>
         
         
         
         <h2><a name="mkvmerge.tags.scope">14.2. Область применения тегов</a></h2>
         
         
         
         <p>
            Теги <span class="productname">Matroska</span><sup>(tm)</sup> не применяются автоматически ко всему файлу. Они могут могут
            применяться к разным частям файла: к одной или нескольким дорожкам, к одной
            или нескольким главам или даже к комбинации обоих. <a href="https://www.matroska.org/technical/specs/index.html">Спецификация
               Matroska</a> содержит более подробную информацию об этом факте.
            
         </p>
         
         
         <p>
            Одним из важных фактов является то, что теги связываются с дорожками или
            главами с помощью элемент тега <span class="classname">Targets</span> <span class="productname">Matroska</span><sup>(tm)</sup> и
            что, UID, используемые для этого связывания, <em>не</em>
            являются идентификаторами дорожек, которые <span class="productname">mkvmerge</span>(1) использует
            везде. Вместо номеров используются UID ,которые <span class="productname">mkvmerge</span>(1) вычисляет
            автоматически (если дорожка взята из формата файла, отличного от <span class="productname">Matroska</span><sup>(tm)</sup>)
            или которые копируются из входного файла, если входной файл дорожки является
            файлом <span class="productname">Matroska</span><sup>(tm)</sup>. Поэтому трудно узнать, какие UID использовать в файле
            тегов, прежде чем файл будет передан в <span class="productname">mkvmerge</span>(1).
            
         </p>
         
         
         <p>
            <span class="productname">mkvmerge</span>(1) знает два варианта, с помощью которых вы можете добавить теги к
            файлам <span class="productname">Matroska</span><sup>(tm)</sup>: параметры <a href="#mkvmerge.description.global_tags">--global-tags</a>
            и <a href="#mkvmerge.description.tags">--tags</a>. Разница
            в том, что первый параметр, <a href="#mkvmerge.description.global_tags">--global-tags</a>,
            заставит теги применяться ко всему файлу, удалив любой из упомянутых выше
            элементов <span class="classname">Targets</span>. Второй параметр, <a href="#mkvmerge.description.tags">--tags</a>,
            автоматически вставляет UID, который <span class="productname">mkvmerge</span>(1) создаёт для тега, указанного
            с помощью части <span class="parameter">TID</span> параметра <a href="#mkvmerge.description.tags">--tags</a>.
            
         </p>
         
         
         
         <h2><a name="mkvmerge.tags.example">14.3. Пример</a></h2>
         
         
         <p>
            Допустим, вы хотите добавить теги к видеодорожке, прочитанной из файла
            <span class="abbrev">AVI</span>. <span class="command">mkvmerge --identify file.avi</span>
            сообщает вам, что ИД видеодорожки (не путайте этот идентификатор с UID!)
            равен 0. Итак, вы создаёте файл тегов, оставив все элементы
            <span class="classname">Targets</span> и выполнив <span class="productname">mkvmerge</span>(1):
            
         </p>
         
         <pre class="screen">$ mkvmerge -o файл.mkv --tags 0:теги.xml файл.avi</pre>
         
         
         <h2><a name="mkvmerge.tags.file_format">14.4. Формат файла тегов</a></h2>
         
         
         <p>
            <span class="productname">mkvmerge</span>(1) поддерживает формат файла тега на основе <span class="abbrev">XML</span>. Формат очень
            точно смоделирован по <a href="https://www.matroska.org/technical/specs/index.html">спецификации
               Matroska</a>. Как двоичный, так и дистрибутив исходников MKVToolNix
            поставляются с образцом файла с именем
            <span class="filename">example-tags-2.xml</span>, который просто перечисляет все
            известные теги и может использоваться в качестве основы для реальных файлов
            тегов.
            
         </p>
         
         
         <p>
            Основы:
            
         </p>
         
         
         <ul>
            
            <li>
               <p>Крайний элемент должен быть <span class="classname">&lt;Tags&gt;</span>.
               </p>
            </li>
            
            <li>
               
               <p>Один логический тег содержится в паре тегов
                  <span class="classname">&lt;Tag&gt;</span> <span class="abbrev">XML</span>.
               </p>
               
            </li>
            
            <li>
               <p>Пробелы перед и после меток игнорируются.</p>
            </li>
            
         </ul>
         
         
         
         <h2><a name="mkvmerge.tags.data_types">14.5. Типы данных</a></h2>
         
         
         <p>
            Новая система тегов <span class="productname">Matroska</span><sup>(tm)</sup> знает только два типа данных: строку UTF-8 и
            двоичный тип. Первый используется для имени тега и элемента
            <span class="classname">&lt;String&gt;</span>, а двоичный тип используется для
            элемента <span class="classname">&lt;Binary&gt;</span>.
            
         </p>
         
         
         <p>
            Поскольку двоичные данные сами по себе не помещаются в файл <span class="abbrev">XML</span> <span class="productname">mkvmerge</span>(1)
            поддерживает два других метода хранения двоичных данных. Если содержимое
            тега <span class="abbrev">XML</span> начинается с '<span class="literal">@</span>', то следующий текст
            рассматривается как имя файла. Содержимое соответствующего файла копируется
            в элемент <span class="productname">Matroska</span><sup>(tm)</sup>.
            
         </p>
         
         
         <p>
            В противном случае ожидается, что данные будут закодированы в Base64. Это
            кодировка, которая преобразует двоичные данные в ограниченный набор символов
            <span class="abbrev">ASCII</span> и используется, например, в программах электронной
            почты. <a href="mkvextract.html"><span class="productname">mkvextract</span>(1)</a> выведет данные, закодированные в Base64 для двоичных
            элементов.
            
         </p>
         
         
         <p>
            Устаревшей системе тегов известны ещё некоторые типы данных, которые можно
            найти в официальной спецификации тегов <span class="productname">Matroska</span><sup>(tm)</sup>. Поскольку <span class="productname">mkvmerge</span>(1)
            больше не поддерживает эту систему, эти типы здесь не описаны.
            
         </p>
         
         
         
         <h2><a name="mkvmerge.tags.xml">14.6. Известные теги файла формата XML</a></h2>
         
         
         
         <p>
            Далее показан список поддерживаемых тегов XML, их типы данных и интервал
            допустимых значений:
            
         </p>
         
         <pre class="screen">Tags (master)
  Tag (master)
    Targets (master)
      TargetTypeValue (unsigned integer)
      TargetType (UTF-8 string)
      TrackUID (unsigned integer)
      EditionUID (unsigned integer)
      ChapterUID (unsigned integer)
      AttachmentUID (unsigned integer)
    Simple (master)
      Simple (master)
      Name (UTF-8 string)
      TagLanguage (UTF-8 string)
      DefaultLanguage (unsigned integer)
      String (UTF-8 string)
      Binary (binary)</pre>
         
         <h1><a name="mkvmerge.segmentinfo">15. Информация о сегментах</a></h1>
         
         
         
         <p>
            С помощью XML-файла сегментной информации можно задать определённые значения
            в поле заголовка "информация о сегменте" файла <span class="productname">Matroska</span><sup>(tm)</sup>. Все эти значения
            не могут быть установлены с помощью других параметров командной строки.
            
         </p>
         
         
         <p>
            Другие поля заголовка «информации о сегментах» можно установить с помощью
            параметров командной строки, но не с помощью файла XML. Это включает,
            например, параметры <span class="option"><a href="#mkvmerge.description.title">--title</a></span> и <span class="option"><a href="#mkvmerge.description.timestamp_scale">--timestamp-scale</a></span>.
            
         </p>
         
         
         <p>
            Существуют и другие элементы, которые нельзя установить ни с помощью
            параметров командной строки, ни с помощью файлов XML. К ним относятся
            следующие элементы: <span class="varname">DateUTC</span> (также известный как «дата
            мультиплексирования»), <span class="varname">MuxingApp</span>,
            <span class="varname">WritingApp</span> и <span class="varname">Duration</span>. Они всегда
            устанавливаются <span class="productname">mkvmerge</span>(1) самостоятельно.
            
         </p>
         
         
         <p>
            Далее показан список поддерживаемых тегов XML, их типы данных и интервал
            допустимых значений:
            
         </p>
         
         <pre class="screen">Info (master)
  SegmentUID (binary, valid range: length in bytes == 16)
  SegmentFilename (UTF-8 string)
  PreviousSegmentUID (binary, valid range: length in bytes == 16)
  PreviousSegmentFilename (UTF-8 string)
  NextSegmentUID (binary, valid range: length in bytes == 16)
  NextSegmentFilename (UTF-8 string)
  SegmentFamily (binary, valid range: length in bytes == 16)
  ChapterTranslate (master)
    ChapterTranslateEditionUID (unsigned integer)
    ChapterTranslateCodec (unsigned integer)
    ChapterTranslateID (binary)</pre>
         <h1><a name="mkvmerge.file_layout">16. Компоновка файла Matroska</a></h1>
         
         
         <p>
            Компоновка файла <span class="productname">Matroska</span><sup>(tm)</sup> достаточно гибкая. <span class="productname">mkvmerge</span>(1) будет отображать
            файл заранее предопределённым образом. Результирующий файл выглядит так:
            
         </p>
         
         
         <p>
            [Заголовок EBML] [сегмент {метапоиск #1} [информация о сегменте] [информация
            о дорожке] {вложения} {главы} [кластер 1] {кластер 2} ...  {кластер n} {cue}
            {метапоиск #2} {метки}]
            
         </p>
         
         
         <p>
            Элементы в фигурных скобках необязательны и зависят от использованного
            содержимого и параметров. Пара замечаний:
            
         </p>
         
         
         <ul>
            
            <li>
               
               <p>
                  метапоиск №1 включает лишь небольшое количество элементов уровня 1, и только
                  если они действительно существуют: вложения, главы, списки cue, теги,
                  метапоиск №2. Старые версии <span class="productname">mkvmerge</span>(1) также используется для размещения
                  кластеров в этом мета-элементе поиска. Поэтому потребовалось некоторое
                  неточное угадывание, чтобы зарезервировать достаточно места. Это часто
                  терпело неудачу. Теперь только кластеры хранятся в метапоиске №2, а
                  метапоиск №1 относится к метапоиску №2.
                  
               </p>
               
            </li>
            
            
            <li>
               
               <p>Элементы вложения, главы и тега присутствуют только в том случае, если они
                  были добавлены.
               </p>
               
            </li>
            
         </ul>
         
         
         <p>
            Наиболее короткий файл <span class="productname">Matroska</span><sup>(tm)</sup> выглядит так:
            
         </p>
         
         
         <p>
            [Заголовок EBML] [сегмент [информация о сегменте] [информация о дорожке]
            [кластер 1]]
            
         </p>
         
         
         <p>
            Это пример файла, содержащий только с аудио.
            
         </p>
         
         <h1><a name="mkvmerge.external_timestamp_files">17. Внешние файлы меток времени</a></h1>
         
         
         <p>
            <span class="productname">mkvmerge</span>(1) позволяет пользователю самостоятельно выбирать метки времени для
            определённой дорожки. Это можно использовать для создания файлов с
            переменной частотой кадров или для включения тишины в аудио. В этом случае
            кадр является элементом, который создаёт отдельно для блока <span class="productname">Matroska</span><sup>(tm)</sup>. Для
            видео это ровно один кадр, для аудио это один пакет определённого типа
            аудио. например, для <span class="abbrev">AC-3</span> это будет пакет, содержащий
            <span class="constant">1536</span> сэмплов.
            
         </p>
         
         
         <p>
            Файлы временных меток, используемые при добавлении дорожек друг к другу,
            должны указываться только для первой части цепочки дорожек. Например, если
            вы добавляете два файла, v1.avi и v2.avi, и хотите использовать временные
            метки, ваша командная строка должна выглядеть примерно так:
            
         </p>
         
         <pre class="screen">$ mkvmerge ... --timestamps 0:мои_временные_метки.txt v1.avi +v2.avi</pre>
         
         <p>
            Существует четыре формата, которые распознает <span class="productname">mkvmerge</span>(1). Первая строка
            всегда содержит номер версии. Пустые строки и строки, содержащие только
            пробелы, и строки, начинающиеся с «<span class="literal">#</span>», игнорируются.
            
         </p>
         
         
         <h2><a name="d4e6962">17.1. Формат файла меток времени v1</a></h2>
         
         
         <p>
            Этот формат начинается со строки версии. Вторая строка объявляет количество
            кадров в секунду по умолчанию. Все последующие строки содержат три числа,
            разделённые запятыми: начальный кадр (<span class="constant">0</span> — первый кадр),
            конечный кадр и количество кадров в этом диапазоне. <span class="abbrev">FPS</span> —
            это число с плавающей запятой с точкой '<span class="literal">.</span>' в качестве
            десятичной запятой. Диапазоны могут содержать разрывы, для которых
            используется стандартное значение <span class="abbrev">FPS</span>. Например:
            
         </p>
         
         <pre class="screen"># timestamp format v1
assume 27.930
800,1000,25
1500,1700,30</pre>
         
         
         <h2><a name="d4e6986">17.2. Формат файла меток времени v2</a></h2>
         
         
         
         <p>
            В этом формате каждая строка содержит метку времени для соответствующего
            кадра. Эта временная метка должна быть указана с точностью до
            миллисекунд. Это может быть число с плавающей запятой, но это не
            обязательно. Вы <em>должны</em> предоставить как минимум столько
            строк временных меток, сколько кадров в дорожке. Метки времени в этом файле
            должны быть отсортированы. Пример для 25 кадров в секунду:
            
         </p>
         
         <pre class="screen"># timestamp format v2
0
40
80</pre>
         
         
         <h2><a name="d4e7001">17.3. Формат файла меток времени v3</a></h2>
         
         
         <p>
            В этом формате каждая строка содержит длительность в секундах, за которой
            следует дополнительное количество кадров в секунду. Оба могут быть числами с
            плавающей запятой. Если количество кадров в секунду отсутствует,
            используется значение по умолчанию. Для аудио вы должны позволить кодеку
            самостоятельно вычислить метки времени кадра. Для этого вы должны
            использовать <span class="constant">0,0</span> в качестве количества кадров в
            секунду. Вы также можете создать разрывы в потоке, используя ключевое слово
            '<span class="literal">gap</span>', за которым следует длительность разрыва. Пример
            аудиофайла:
            
         </p>
         
         <pre class="screen"># timestamp format v3
assume 0.0
25.325
7.530,38.236
gap, 10.050
2.000,38.236</pre>
         
         
         <h2><a name="d4e7019">17.4. Формат файла меток времени v4</a></h2>
         
         
         <p>
            Формат идентичен формату v2. Единственное отличие в том, что временные метки
            не должны быть отсортированы. Этот формат не следует когда-либо
            использовать.
            
         </p>
         
         
         <h1><a name="mkvmerge.exit_codes">18. Коды завершения</a></h1>
         
         
         
         <p>
            <span class="productname">mkvmerge</span>(1) завершается с одним из трёх кодов:
            
         </p>
         
         
         <ul>
            
            <li>
               
               <p>
                  <span class="constant">0</span> -- Этот код завершения означает, что паковка
                  закончилась успешно.
                  
               </p>
               
            </li>
            
            
            <li>
               
               <p>
                  <span class="constant">1 </span>-- В этом случае <span class="productname">mkvmerge</span>(1) выдал хотя бы одно
                  предупреждение, однако паковка продолжилась. Предупреждению предшествует
                  текст '<span class="literal">Warning:</span>'. В зависимости от произошедших ошибок,
                  результирующие файлы могут быть либо целыми либо повреждёнными. Пользователю
                  рекомендуется обратить внимание на само предупреждение и проверить
                  результирующие файлы.
                  
               </p>
               
            </li>
            
            
            <li>
               
               <p>
                  <span class="constant">2</span> -- Этот код завершения используется в случае
                  возникновения ошибки. <span class="productname">mkvmerge</span>(1) прекращает работу сразу после вывода
                  сообщения об ошибке. Ошибки могут возникнуть из-за неверных параметров
                  командной строки, из-за ошибки чтения/записи или просто из-за повреждённых
                  файлов.
                  
               </p>
               
            </li>
            
         </ul>
         
         <h1><a name="mkvmerge.environment_variables">19. Переменные среды</a></h1>
         
         
         
         <p>
            <span class="productname">mkvmerge</span>(1) использует стандартные переменные, определяющие системный язык
            (например: <span class="varname">LANG</span> и семейство
            <span class="varname">LC_*</span>). Дополнительные переменные:
            
         </p>
         
         
         <table class="variablelist">
            <thead>
               <tr>
                  <th>Option</th>
                  <th>Description</th>
               </tr>
            </thead>
            <tbody>
               <tr>
                  <td class="varlistoption"><a name="mkvmerge.environment_variables.debug"><span class="varname">MKVMERGE_DEBUG</span>, <span class="varname">MKVTOOLNIX_DEBUG</span> и его
                        краткая форма <span class="varname">MTX_DEBUG</span></a></td>
                  <td>
                     
                     <p>Содержимое обрабатывается так, как если бы оно было передано с помощью
                        параметра <a href="#mkvmerge.description.debug">--debug</a>.
                     </p>
                     
                  </td>
               </tr>
               <tr>
                  <td class="varlistoption"><a name="mkvmerge.environment_variables.engage"><span class="varname">MKVMERGE_ENGAGE</span>, <span class="varname">MKVTOOLNIX_ENGAGE</span> и
                        его краткая форма <span class="varname">MTX_ENGAGE</span></a></td>
                  <td>
                     
                     <p>Содержимое обрабатывается так, как если бы оно было передано с помощью
                        параметра <a href="#mkvmerge.description.engage">--engage</a>.
                     </p>
                     
                  </td>
               </tr>
            </tbody>
         </table>
         
         <h1><a name="mkvmerge.seealso">20. Смотрите также</a></h1>
         
         
         <p>
            <a href="mkvinfo.html"><span class="productname">mkvinfo</span>(1)</a>, <a href="mkvextract.html"><span class="productname">mkvextract</span>(1)</a>, <a href="mkvpropedit.html"><span class="productname">mkvpropedit</span>(1)</a>, <a href="mkvtoolnix-gui.html"><span class="productname">mkvtoolnix-gui</span>(1)</a>
            
         </p>
         
         <h1><a name="mkvmerge.www">21. Домашняя страница</a></h1>
         
         
         <p>
            Последняя версия программы всегда доступна на <a href="https://mkvtoolnix.download/">домашней странице MKVToolNix</a>.
            
         </p>
         
      </div>
   </body>
</html>